
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>iOS知识点总结 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        

    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-mermaid-v8/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    



        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../" />
    
    
    <link rel="prev" href="Effective Objective-C 2.0.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../">
            
                <a href="../">
            
                    
                    iOS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Effective Objective-C 2.0.html">
            
                <a href="Effective Objective-C 2.0.html">
            
                    
                    Effective Objective-C 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="iOS知识点总结.html">
            
                <a href="iOS知识点总结.html">
            
                    
                    iOS知识点总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../">
            
                <a href="../">
            
                    
                    结束
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >iOS知识点总结</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="&#x7B2C;0&#x7AE0;-&#x5199;&#x5728;&#x524D;&#x9762;">&#x7B2C;0&#x7AE0; &#x5199;&#x5728;&#x524D;&#x9762;</h3>
<h4 id="&#x6700;&#x597D;&#x4E0B;&#x8F7D;&#x5E76;&#x53EF;&#x7F16;&#x8BD1;&#x4EE5;&#x4E0B;&#x6E90;&#x7801;">&#x6700;&#x597D;&#x4E0B;&#x8F7D;&#x5E76;&#x53EF;&#x7F16;&#x8BD1;&#x4EE5;&#x4E0B;&#x6E90;&#x7801;</h4>
<ul>
<li>libdispatch</li>
<li>objc4</li>
<li>gnustep-base</li>
</ul>
<h4 id="bitcode">BitCode</h4>
<p>LLVM&#x662F;&#x76EE;&#x524D;&#x82F9;&#x679C;&#x91C7;&#x7528;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x5DE5;&#x5177;&#x94FE;,Bitcode&#x662F;LLVM&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x4E2D;&#x95F4;&#x4EE3;&#x7801;&#x7684;&#x4E00;&#x79CD;&#x7F16;&#x7801;,LLVM&#x7684;&#x524D;&#x7AEF;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;C/C++/OC/Swift&#x7B49;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;,LLVM&#x7684;&#x540E;&#x7AEF;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5404;&#x4E2A;&#x82AF;&#x7247;&#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x6C47;&#x7F16;&#x6307;&#x4EE4;&#x6216;&#x8005;&#x53EF;&#x6267;&#x884C;&#x673A;&#x5668;&#x6307;&#x4EE4;&#x6570;&#x636E;,&#x90A3;&#x4E48;,BitCode&#x5C31;&#x662F;&#x4F4D;&#x4E8E;&#x8FD9;&#x4E24;&#x8005;&#x76F4;&#x63A5;&#x7684;&#x4E2D;&#x95F4;&#x7801;. LLVM&#x7684;&#x7F16;&#x8BD1;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#x524D;&#x7AEF;&#x8D1F;&#x8D23;&#x628A;&#x9879;&#x76EE;&#x7A0B;&#x5E8F;&#x6E90;&#x4EE3;&#x7801;&#x7FFB;&#x8BD1;&#x6210;Bitcode&#x4E2D;&#x95F4;&#x7801;,&#x7136;&#x540E;&#x518D;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x76EE;&#x6807;&#x673A;&#x5668;&#x82AF;&#x7247;&#x5E73;&#x53F0;&#x8F6C;&#x6362;&#x4E3A;&#x76F8;&#x5E94;&#x7684;&#x6C47;&#x7F16;&#x6307;&#x4EE4;&#x4EE5;&#x53CA;&#x7FFB;&#x8BD1;&#x4E3A;&#x673A;&#x5668;&#x7801;.&#x8FD9;&#x6837;&#x8BBE;&#x8BA1;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;LLVM&#x6210;&#x4E3A;&#x4E86;&#x4E00;&#x4E2A;&#x7F16;&#x8BD1;&#x5668;&#x67B6;&#x6784;,&#x53EF;&#x4EE5;&#x8F7B;&#x800C;&#x6613;&#x4E3E;&#x7684;&#x5728;LLVM&#x67B6;&#x6784;&#x4E4B;&#x4E0A;&#x53D1;&#x660E;&#x65B0;&#x7684;&#x8BED;&#x8A00;(&#x524D;&#x7AEF;),&#x4EE5;&#x53CA;&#x5728;LLVM&#x67B6;&#x6784;&#x4E0B;&#x9762;&#x652F;&#x6301;&#x65B0;&#x7684;CPU(&#x540E;&#x7AEF;)&#x6307;&#x4EE4;&#x8F93;&#x51FA;,&#x867D;&#x7136;Bitcode&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x7801;&#x4E0D;&#x80FD;&#x5728;&#x4EFB;&#x4F55;&#x5E73;&#x53F0;&#x4E0A;&#x8FD0;&#x884C;,&#x4F46;&#x662F;&#x5B83;&#x53EF;&#x4EE5;&#x8F6C;&#x5316;&#x4E3A;&#x4EFB;&#x4F55;&#x88AB;&#x652F;&#x6301;&#x7684;CPU&#x67B6;&#x6784;,&#x5305;&#x62EC;&#x73B0;&#x5728;&#x8FD8;&#x6CA1;&#x88AB;&#x53D1;&#x660E;&#x7684;CPU&#x67B6;&#x6784;,&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x73B0;&#x5728;&#x6253;&#x5F00;Bitcode&#x529F;&#x80FD;&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;App&#x5230;&#x5E94;&#x7528;&#x5546;&#x5E97;,&#x4EE5;&#x540E;&#x5982;&#x679C;&#x82F9;&#x679C;&#x65B0;&#x51FA;&#x4E86;&#x4E00;&#x6B3E;&#x624B;&#x673A;&#x5E76;CPU&#x4E5F;&#x662F;&#x5168;&#x65B0;&#x8BBE;&#x8BA1;&#x7684;,&#x5728;&#x82F9;&#x679C;&#x540E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6837;&#x53EF;&#x4EE5;&#x4ECE;&#x8FD9;&#x4E2A;App&#x7684;Bitcode&#x5F00;&#x59CB;&#x7F16;&#x8BD1;&#x8F6C;&#x5316;&#x4E3A;&#x65B0;CPU&#x4E0A;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;,&#x53EF;&#x4F9B;&#x65B0;&#x624B;&#x673A;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;App.</p>
<p>&#x4F46;&#x662F;bitcode&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x5E26;&#x6765;&#x7684;&#x4E0D;&#x4FBF;&#x4E4B;&#x5904;&#x5C31;&#x662F;: &#x6CA1;&#x7528;bitcode&#x4E4B;&#x524D;,&#x5F53;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5954;&#x6E83;&#x540E;,&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x83B7;&#x53D6;&#x7684;&#x7684;&#x5954;&#x6E83;&#x65E5;&#x5FD7;&#x518D;&#x914D;&#x4E0A;&#x4E0A;&#x4F20;&#x5230;&#x82F9;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x8868;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x8FD8;&#x539F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x5230;&#x5954;&#x6E83;&#x65F6;&#x540E;&#x8C03;&#x7528;&#x6808;&#x4FE1;&#x606F;,&#x5BF9;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x5B9A;&#x4F4D;&#x6392;&#x67E5;.&#x4F46;&#x662F;&#x7528;&#x4E86;bitcode&#x4E4B;&#x540E;,&#x7528;&#x6237;&#x5B89;&#x88C5;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x4E0D;&#x662F;&#x5F00;&#x53D1;&#x8005;&#x8FD9;&#x8FB9;&#x751F;&#x6210;&#x7684;,&#x800C;&#x662F;&#x82F9;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7ECF;&#x8FC7;&#x4F18;&#x5316;&#x540E;&#x751F;&#x6210;&#x7684;,&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x4FE1;&#x606F;&#x4E22;&#x5931;&#x4E86;,&#x4E5F;&#x5C31;&#x65E0;&#x6CD5;&#x8FDB;&#x884C;&#x524D;&#x9762;&#x8BF4;&#x7684;&#x8FD8;&#x539F;&#x5954;&#x6E83;&#x73B0;&#x573A;&#x627E;&#x539F;&#x56E0;&#x4E86;.</p>
<h4 id="&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;">&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;</h4>
<p><code>iOS</code> &#x7F16;&#x8BD1;&#x91C7;&#x7528; <code>Clang</code> &#x4F5C;&#x4E3A;&#x7F16;&#x8BD1;&#x5668;&#x524D;&#x7AEF;&#xFF0C;<code>LLVM</code> &#x4F5C;&#x4E3A;&#x7F16;&#x8BD1;&#x5668;&#x540E;&#x7AEF;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x524D;&#x7AEF;&#x8D1F;&#x8D23;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#xFF0C;&#x8BED;&#x4E49;&#x5206;&#x6790;&#xFF0C;&#x751F;&#x6210;&#x751F;&#x6210;&#x4E2D;&#x95F4;&#x7801; <code>(LLVM IR)</code>&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x6216;&#x8005;&#x8B66;&#x544A;&#x4F1A;&#x6807;&#x6CE8;&#x51FA;&#x6765;&#x5728;&#x54EA;&#x4E00;&#x884C;&#xFF1B;&#x7F16;&#x8BD1;&#x5668;&#x540E;&#x7AEF;&#x4F1A;&#x8FDB;&#x884C;&#x673A;&#x5668;&#x65E0;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x4F18;&#x5316;&#xFF0C;&#x751F;&#x6210;&#x673A;&#x5668;&#x8BED;&#x8A00;&#xFF0C;&#x5E76;&#x4E14;&#x8FDB;&#x884C;&#x673A;&#x5668;&#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x4F18;&#x5316;&#x3002;</p>
<h5 id="clang-&#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;">Clang &#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;</h5>
<ol>
<li><p>&#x9884;&#x5904;&#x7406;</p>
</li>
<li><p>&#x8BCD;&#x6CD5;&#x5206;&#x6790;</p>
</li>
<li><p>&#x8BED;&#x6CD5;&#x5206;&#x6790;</p>
</li>
<li><p>&#x9759;&#x6001;&#x5206;&#x6790;</p>
</li>
<li><p>&#x7C7B;&#x578B;&#x68C0;&#x67E5;</p>
</li>
</ol>
<h5 id="llvm-&#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;">LLVM &#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;</h5>
<ol>
<li><p>&#x76EE;&#x6807;&#x4EE3;&#x7801;&#x7684;&#x751F;&#x6210;&#x4E0E;&#x4F18;&#x5316;&#xFF08;&#x8BED;&#x6CD5;&#x6811;-&gt;&#x4E2D;&#x95F4;&#x7801;-&gt;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#xFF09;</p>
</li>
<li><p>&#x6C47;&#x7F16;&#xFF08;&#x76EE;&#x6807;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x6C47;&#x7F16;&#x5668;&#x5904;&#x7406;&#xFF0C;&#x628A;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x6587;&#x4EF6;&#x8F6C;&#x6362;&#x4E3A;&#x673A;&#x5668;&#x7801;&#x6587;&#x4EF6;&#xFF09;</p>
</li>
<li><p>&#x94FE;&#x63A5;&#xFF0C;&#x9759;&#x6001;&#x94FE;&#x63A5;&#xFF08;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x7528;&#x4E00;&#x4E2A;&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x540C;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF09;</p>
</li>
</ol>
<h4 id="&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;">&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;</h4>
<ol>
<li>exe()</li>
<li>&#x52A0;&#x8F7D;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</li>
<li>Dyld&amp;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x52A0;&#x8F7D;</li>
<li>Rebase&amp;Bind</li>
<li>Objc</li>
<li>initializer</li>
</ol>
<h4 id="mach-o">Mach-O</h4>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/832018447CAF40A186C1FF6F105BE3DF/13346" alt="image"></p>
<h3 id="&#x7B2C;3&#x7AE0;-ui&#x89C6;&#x56FE;">&#x7B2C;3&#x7AE0; UI&#x89C6;&#x56FE;</h3>
<h4 id="&#x4E8B;&#x4EF6;&#x4F20;&#x9012;&#xFF08;&#x627E;&#x5230;&#x70B9;&#x51FB;&#x7684;view&#xFF09;">&#x4E8B;&#x4EF6;&#x4F20;&#x9012;&#xFF08;&#x627E;&#x5230;&#x70B9;&#x51FB;&#x7684;View&#xFF09;</h4>
<p><code>hitTest:withEvent:</code></p>
<p>UIApplication-&gt;UIWindow-&gt;UIViewController-&gt;UIView</p>
<h4 id="&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#xFF08;&#x627E;&#x5230;&#x54CD;&#x5E94;&#x7684;view&#xFF09;">&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#xFF08;&#x627E;&#x5230;&#x54CD;&#x5E94;&#x7684;View&#xFF09;</h4>
<p>UIView-&gt;UIViewController-&gt;UIWindow-&gt;UIApplication</p>
<h4 id="&#x5F02;&#x6B65;&#x7ED8;&#x5236;">&#x5F02;&#x6B65;&#x7ED8;&#x5236;</h4>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="416" version="1.1" width="431.390625" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj34" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj40" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="72.15625" y="20" width="106.34375" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="82.15625" y="30" width="86.34375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MainQueue</tspan></text><rect x="72.15625" y="358" width="106.34375" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="82.15625" y="368" width="86.34375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="377" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">MainQueue</tspan></text><path fill="none" stroke="#000000" d="M125.328125,58L125.328125,358" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="198.5" y="20" width="115.9375" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="208.5" y="30" width="95.9375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="256.46875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">AsyncQueue</tspan></text><rect x="198.5" y="358" width="115.9375" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="208.5" y="368" width="95.9375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="256.46875" y="377" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">AsyncQueue</tspan></text><path fill="none" stroke="#000000" d="M256.46875,58L256.46875,358" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="10" y="78" width="230.65625" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="15" y="83" width="220.65625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="92" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">[UIView setNeedDisplay]</tspan></text><rect x="38.78125" y="126" width="173.09375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="43.78125" y="131" width="163.09375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="140" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">[CALayer display]</tspan></text><rect x="14.796875" y="174" width="221.0625" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="19.796875" y="179" width="211.0625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="188" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">[UIView displayLayer:]</tspan></text><rect x="0" y="0" width="0" height="0" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="190.8984375" y="227" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="227" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></text><path fill="none" stroke="#000000" d="M125.328125,222C125.328125,222,227.47708667162806,222,251.4681269861071,222" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj34)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="179.515625" y="242" width="153.90625" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="184.515625" y="247" width="143.90625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="256.46875" y="256" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">CoreGraphic Api</tspan></text><rect x="0" y="0" width="0" height="0" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="190.8984375" y="295" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="295" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></text><path fill="none" stroke="#000000" d="M256.46875,290C256.46875,290,154.31978832837194,290,130.3287480138929,290" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj40)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="14.796875" y="310" width="221.0625" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="19.796875" y="315" width="211.0625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="125.328125" y="324" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">[CALayer setContents:]</tspan></text></svg></div></p>
<h4 id="&#x79BB;&#x5C4F;&#x6E32;&#x67D3;">&#x79BB;&#x5C4F;&#x6E32;&#x67D3;</h4>
<ul>
<li><p>On-Screen Rendering</p>
<p>  &#x610F;&#x4E3A;<strong>&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x6E32;&#x67D3;</strong>&#xFF0C;&#x6307;&#x7684;&#x662F;GPU&#x7684;&#x7F13;&#x51B2;&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x8FDB;&#x884C;</p>
</li>
<li><p>Off-Screen Rendering</p>
<p>&#x610F;&#x4E3A;<strong>&#x79BB;&#x5C4F;&#x6E32;&#x67D3;</strong>&#xFF0C;&#x6307;&#x7684;&#x662F;GPU&#x5728;&#x5F53;&#x524D;&#x5C4F;&#x5E55;&#x7F13;&#x51B2;&#x533A;&#x4EE5;&#x5916;<strong>&#x65B0;&#x5F00;&#x8F9F;</strong>&#x4E00;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x64CD;&#x4F5C;</p>
</li>
</ul>
<h5 id="&#x4F55;&#x65F6;&#x89E6;&#x53D1;">&#x4F55;&#x65F6;&#x89E6;&#x53D1;</h5>
<ul>
<li>&#x5706;&#x89D2;&#xFF08;maskToBounds&#x4E3A;YES&#xFF09;</li>
<li>&#x56FE;&#x5C42;&#x8499;&#x677F;</li>
<li>&#x9634;&#x5F71;</li>
<li>&#x5149;&#x6805;&#x5316;</li>
</ul>
<h5 id="&#x4E3A;&#x4F55;&#x8981;&#x907F;&#x514D;">&#x4E3A;&#x4F55;&#x8981;&#x907F;&#x514D;</h5>
<ol>
<li>&#x589E;&#x52A0;GPU&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x6389;&#x5E27;</li>
<li>&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7F13;&#x51B2;&#x533A;</li>
<li>&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF0C;&#x591A;&#x4E2A;&#x6E32;&#x67D3;&#x7BA1;&#x7EBF;&#x5408;&#x6210;</li>
</ol>
<h3 id="&#x7B2C;4&#x7AE0;-objective-c&#x8BED;&#x8A00;&#x7279;&#x6027;">&#x7B2C;4&#x7AE0; Objective-C&#x8BED;&#x8A00;&#x7279;&#x6027;</h3>
<div class="mermaid">
graph LR
    A[&quot;Objective-C&quot;] --- B(&#x901A;&#x77E5;)
    A --- C(KVO)
    A --- D(KVC)
    A --- E(&#x5C5E;&#x6027;&#x5173;&#x952E;&#x5B57;)
    F(&#x5206;&#x7C7B;) --- A
    G(&#x5173;&#x8054;&#x5BF9;&#x8C61;) --- A
    H(&#x6269;&#x5C55;) --- A
    I(&#x4EE3;&#x7406;) --- A
</div>

<h4 id="&#x5206;&#x7C7B;">&#x5206;&#x7C7B;</h4>
<pre><code class="lang-c++"><span class="hljs-keyword">struct</span> <span class="hljs-keyword">category_t</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *name;
    <span class="hljs-keyword">classref_t</span> cls;
    <span class="hljs-keyword">struct</span> <span class="hljs-keyword">method_list_t</span> *instanceMethods;
    <span class="hljs-keyword">struct</span> <span class="hljs-keyword">method_list_t</span> *classMethods;
    <span class="hljs-keyword">struct</span> <span class="hljs-keyword">protocol_list_t</span> *protocols;
    <span class="hljs-keyword">struct</span> <span class="hljs-keyword">property_list_t</span> *instanceProperties;
    <span class="hljs-comment">// Fields below this point are not always present on disk.</span>
    <span class="hljs-keyword">struct</span> <span class="hljs-keyword">property_list_t</span> *_classProperties;

    <span class="hljs-keyword">method_list_t</span> *methodsForMeta(<span class="hljs-keyword">bool</span> isMeta) {
        <span class="hljs-keyword">if</span> (isMeta) <span class="hljs-keyword">return</span> classMethods;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> instanceMethods;
    }

    <span class="hljs-keyword">property_list_t</span> *propertiesForMeta(<span class="hljs-keyword">bool</span> isMeta, <span class="hljs-keyword">struct</span> header_info *hi);

    <span class="hljs-keyword">protocol_list_t</span> *protocolsForMeta(<span class="hljs-keyword">bool</span> isMeta) {
        <span class="hljs-keyword">if</span> (isMeta) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> protocols;
    }
};
</code></pre>
<h5 id="&#x4F5C;&#x7528;">&#x4F5C;&#x7528;</h5>
<ul>
<li>&#x58F0;&#x660E;&#x79C1;&#x6709;&#x65B9;&#x6CD5;</li>
<li>&#x5206;&#x89E3;&#x4F53;&#x79EF;&#x5E9E;&#x5927;&#x7684;&#x7C7B;&#x6587;&#x4EF6;</li>
<li>&#x628A;Framework&#x7684;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x516C;&#x5F00;</li>
</ul>
<h5 id="&#x7279;&#x70B9;">&#x7279;&#x70B9;</h5>
<ul>
<li>&#x8FD0;&#x884C;&#x65F6;&#x51B3;&#x8BAE;</li>
<li>&#x53EF;&#x4EE5;&#x4E3A;&#x7CFB;&#x7EDF;&#x7C7B;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;</li>
</ul>
<h5 id="&#x53EF;&#x6DFB;&#x52A0;&#x7684;&#x5185;&#x5BB9;">&#x53EF;&#x6DFB;&#x52A0;&#x7684;&#x5185;&#x5BB9;</h5>
<ul>
<li>&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;</li>
<li>&#x7C7B;&#x65B9;&#x6CD5;</li>
<li>&#x534F;&#x8BAE;</li>
<li>&#x5C5E;&#x6027;&#xFF08;getter&amp;setter&#xFF09;</li>
</ul>
<h5 id="&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x672C;&#x8D28;">&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x672C;&#x8D28;</h5>
<p>&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7531;<strong>AssociationsManager</strong>&#x7BA1;&#x7406;&#x5E76;&#x5728;<strong>AssociationsHashMap</strong>&#x5B58;&#x50A8;&#xFF0C;&#x6240;&#x6709;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x8054;&#x5185;&#x5BB9;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x5BB9;&#x5668;&#x4E2D;</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;0x1233232312&quot;</span>: {
    <span class="hljs-string">&quot;@selector(text)&quot;</span>: {
      <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Hello&quot;</span>
      <span class="hljs-string">&quot;policy&quot;</span>: <span class="hljs-string">&quot;retain&quot;</span>
    },
    <span class="hljs-string">&quot;@selector(title)&quot;</span>: {
      <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Hello&quot;</span>
      <span class="hljs-string">&quot;policy&quot;</span>: <span class="hljs-string">&quot;retain&quot;</span>
    }
  },
  <span class="hljs-string">&quot;0x1233232312&quot;</span>: {
    <span class="hljs-string">&quot;@selector(name)&quot;</span>: {
      <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Hello&quot;</span>
      <span class="hljs-string">&quot;policy&quot;</span>: <span class="hljs-string">&quot;retain&quot;</span>
    }
  }
}
</code></pre>
<h4 id="&#x6269;&#x5C55;">&#x6269;&#x5C55;</h4>
<p>&#x53EA;&#x58F0;&#x660E;&#x4E0D;&#x5B9E;&#x73B0;</p>
<h5 id="&#x4F5C;&#x7528;">&#x4F5C;&#x7528;</h5>
<ul>
<li>&#x58F0;&#x660E;&#x79C1;&#x6709;&#x5C5E;&#x6027;</li>
<li>&#x58F0;&#x660E;&#x79C1;&#x6709;&#x65B9;&#x6CD5;</li>
<li>&#x58F0;&#x660E;&#x79C1;&#x6709;&#x6210;&#x5458;&#x53D8;&#x91CF;</li>
</ul>
<h5 id="&#x7279;&#x70B9;">&#x7279;&#x70B9;</h5>
<ul>
<li>&#x7F16;&#x8BD1;&#x65F6;&#x51B3;&#x8BAE;</li>
<li>&#x53EA;&#x4EE5;&#x58F0;&#x660E;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;&#xFF0C;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x5BC4;&#x751F;&#x4E8E;&#x5BBF;&#x4E3B;&#x7C7B;&#x7684;.m&#x4E2D;</li>
<li>&#x4E0D;&#x80FD;&#x4E3A;&#x7CFB;&#x7EDF;&#x7C7B;&#x6DFB;&#x52A0;&#x6269;&#x5C55;</li>
</ul>
<h4 id="nsnotification">NSNotification</h4>
<h4 id="kvo">KVO</h4>
<ul>
<li>Isa-swizzling</li>
<li>kvc&#x8BBE;&#x7F6E;value&#x80FD;&#x751F;&#x6548;</li>
<li>&#x4E0B;&#x5212;&#x7EBF;&#x4FEE;&#x6539;value&#x4E0D;&#x80FD;&#x751F;&#x6548;</li>
</ul>
<h4 id="kvc">KVC</h4>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="462.50390625" version="1.1" width="823.751953125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 823.751953125 462.50390625" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj14" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj15" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj17" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj19" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj20" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj24" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj25" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="49.515625" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,80.1367,37.6348)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,80.1367,37.6348)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Start</tspan></text><path fill="#ffffff" stroke="#000000" d="M34.27734375,17.138671875L0,34.27734375L68.5546875,68.5546875L137.109375,34.27734375L68.5546875,0L0,34.27734375" stroke-width="3" id="B" class="flowchart" transform="matrix(1,0,0,1,36.3398,144.4297)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="39.27734375" y="34.27734375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,36.3398,144.4297)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">has setter</tspan></text><rect x="0" y="0" width="61.21875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="C" transform="matrix(1,0,0,1,74.2852,300.6191)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,74.2852,300.6191)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Invoke</tspan></text><rect x="0" y="0" width="44.890625" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="D" transform="matrix(1,0,0,1,82.4492,423.8789)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,82.4492,423.8789)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">End</tspan></text><path fill="#ffffff" stroke="#000000" d="M49.447265625,24.7236328125L0,49.447265625L98.89453125,98.89453125L197.7890625,49.447265625L98.89453125,0L0,49.447265625" stroke-width="3" id="E" class="flowchart" transform="matrix(1,0,0,1,229.4492,129.2598)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="54.447265625" y="49.447265625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,229.4492,129.2598)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.861328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">has instance var</tspan></text><rect x="0" y="0" width="186.390625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,488.9375,160.8945)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,488.9375,160.8945)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">setValue:forUndefinedKey:</tspan></text><rect x="0" y="0" width="188.765625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,487.75,284.1543)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,487.75,284.1543)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">NSUndefinedKeyException</tspan></text><path fill="none" stroke="#000000" d="M104.89453125,73.259765625C104.89453125,73.259765625,104.89453125,124.27909794263542,104.89453125,139.92369789159784" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj14)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M104.89453125,212.984375C104.89453125,212.984375,104.89453125,278.22072046482936,104.89453125,296.12249104648663" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj15)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="109.89453125" y="222.984375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M173.44921875,178.70703125C173.44921875,178.70703125,211.64998960494995,178.70703125,224.94937906763516,178.70703125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj17)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="178.44921875" y="168.70703125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M104.89453125,336.244140625C104.89453125,336.244140625,104.89453125,401.48048608982936,104.89453125,419.38225667148663" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj19)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M328.34375,228.154296875C328.34375,228.154296875,328.34375,275.619140625,328.34375,275.619140625C328.34375,275.619140625,104.89453125,275.619140625,104.89453125,275.619140625C104.89453125,275.619140625,104.89453125,288.9231119155884,104.89453125,296.1207682583481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj20)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="333.34375" y="238.154296875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.865234375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M427.23828125,178.70703125C427.23828125,178.70703125,470.2273433941882,178.70703125,484.4380831752504,178.70703125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="432.23828125" y="168.70703125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M582.1328125,196.51953125C582.1328125,196.51953125,582.1328125,261.75587671482936,582.1328125,279.65764729648663" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj24)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M582.1328125,319.779296875C582.1328125,319.779296875,582.1328125,398.87890625,582.1328125,398.87890625C582.1328125,398.87890625,104.89453125,398.87890625,104.89453125,398.87890625C104.89453125,398.87890625,104.89453125,412.1828775405884,104.89453125,419.3805338833481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj25)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h4 id="copy&#x5173;&#x952E;&#x5B57;">copy&#x5173;&#x952E;&#x5B57;</h4>
<table>
<thead>
<tr>
<th>&#x6E90;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;</th>
<th>&#x62F7;&#x8D1D;&#x65B9;&#x5F0F;</th>
<th>&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;</th>
<th>&#x62F7;&#x8D1D;&#x7C7B;&#x578B;(&#x6DF1;/&#x6D45;)</th>
</tr>
</thead>
<tbody>
<tr>
<td>mutable&#x5BF9;&#x8C61;</td>
<td>copy</td>
<td>&#x4E0D;&#x53EF;&#x53D8;</td>
<td>&#x6DF1;&#x62F7;&#x8D1D;</td>
</tr>
<tr>
<td>mutable&#x5BF9;&#x8C61;</td>
<td>mutableCopy</td>
<td>&#x53EF;&#x53D8;</td>
<td>&#x6DF1;&#x62F7;&#x8D1D;</td>
</tr>
<tr>
<td>immutable&#x5BF9;&#x8C61;</td>
<td>copy</td>
<td>&#x4E0D;&#x53EF;&#x53D8;</td>
<td>&#x6D45;&#x62F7;&#x8D1D;</td>
</tr>
<tr>
<td>immutable&#x5BF9;&#x8C61;</td>
<td>mutableCopy</td>
<td>&#x53EF;&#x53D8;</td>
<td>&#x6DF1;&#x62F7;&#x8D1D;</td>
</tr>
</tbody>
</table>
<h3 id="&#x7B2C;5&#x7AE0;-runtime">&#x7B2C;5&#x7AE0; Runtime</h3>
<div class="mermaid">
graph LR
A1[Runtime]
B1(&#x6570;&#x636E;&#x7ED3;&#x6784;) --- A1
B2(&#x7C7B;&#x5BF9;&#x8C61;&#x4E0E;&#x5143;&#x7C7B;&#x5BF9;&#x8C61;) --- A1
B3(&#x6D88;&#x606F;&#x4F20;&#x9012;) --- A1
B4(&#x65B9;&#x6CD5;&#x7F13;) --- A1
A1 --- C1(&#x6D88;&#x606F;&#x8F6C;&#x53D1;)
A1 --- C2(Method-Swizzling)
A1 --- C3(&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;)
A1 --- C4(&#x52A8;&#x6001;&#x65B9;&#x6CD5;&#x89E3;&#x6790;)
</div>

<h4 id="isa&#x6307;&#x9488;">isa&#x6307;&#x9488;</h4>
<p>&#x5171;&#x540C;&#x4F53;isa_t</p>
<div class="mermaid">
graph LR
A1[&#x6307;&#x9488;&#x578B;isa] --&gt; B1(isa&#x7684;&#x503C;&#x4EE3;&#x8868;Class&#x7684;&#x5730;&#x5740;)
A2[&#x975E;&#x6307;&#x9488;&#x578B;isa] --&gt; B2(isa&#x7684;&#x503C;&#x7684;&#x90E8;&#x5206;&#x4EE3;&#x8868;Class&#x7684;&#x5730;&#x5740;)
</div>

<h4 id="objcclass&#x7684;&#x7ED3;&#x6784;">objc_class&#x7684;&#x7ED3;&#x6784;</h4>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCE1e40616f541a8abeccb14c8b6927642f/12439" alt="image"></p>
<div class="mermaid">
graph LR
A[objc_class]
A --&gt; isa
A --&gt; superclass
A --&gt; cache
A --&gt; class_data_bits_t
</div>

<h4 id="isa&#x6307;&#x5411;">isa&#x6307;&#x5411;</h4>
<ul>
<li>&#x5173;&#x4E8E;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x6307;&#x5411;&#x7C7B;&#x5BF9;&#x8C61;</li>
<li>&#x5173;&#x4E8E;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x6307;&#x5411;&#x5143;&#x7C7B;&#x5BF9;&#x8C61;</li>
</ul>
<div class="mermaid">
graph LR
A[&#x5B9E;&#x4F8B;] -.isa.-&gt; B[Class]
B[Class] -.isa.-&gt; C[MetaClass] 
</div>

<h4 id="cachet">cache_t</h4>
<ul>
<li>&#x7528;&#x6237;&#x5FEB;&#x901F;&#x67E5;&#x627E;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x51FD;&#x6570;</li>
<li>&#x662F;&#x53EF;&#x589E;&#x91CF;&#x6269;&#x5C55;&#x7684;<code>Hash&#x8868;</code>&#x7ED3;&#x6784;</li>
<li>&#x662F;&#x5C40;&#x90E8;&#x6027;&#x539F;&#x7406;&#x7684;&#x6700;&#x4F73;&#x5E94;&#x7528;</li>
</ul>
<div class="mermaid">
graph LR
A[bucket_t] --&gt; B[bucket_t]
B --&gt; C[bucket_t]
C --&gt; D[...]
</div>

<div class="mermaid">
graph TB
A[bucket_t] --&gt; B[key]
A --&gt; C[IMP]
</div>

<h4 id="classdatabitst">class_data_bits_t</h4>
<ul>
<li><code>class_data_bits_t</code>&#x4E3B;&#x8981;&#x662F;&#x5BF9;<code>class_rw_t</code>&#x7684;&#x5C01;&#x88C5;</li>
<li><code>class_rw_t</code>&#x4EE3;&#x8868;&#x4E86;&#x7C7B;&#x76F8;&#x5173;&#x7684;<code>&#x8BFB;&#x5199;</code>&#x4FE1;&#x606F;&#x3001;&#x5BF9;<code>class_ro_t</code>&#x7684;&#x5C01;&#x88C5;</li>
<li><code>class_ro_t</code>&#x4EE3;&#x8868;&#x4E86;&#x7C7B;&#x76F8;&#x5173;&#x7684;&#x53EA;&#x8BFB;&#x4FE1;&#x606F;</li>
<li><code>class_ro_t</code>&#x7F16;&#x8BD1;&#x540E;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;</li>
<li><code>class_rw_t</code>&#x8FD0;&#x884C;&#x65F6;&#x51B3;&#x5B9A;</li>
</ul>
<h4 id="methodt">method_t</h4>
<div class="mermaid">
graph LR
A[&#x51FD;&#x6570;&#x56DB;&#x8981;&#x7D20;] --- C[&#x540D;&#x79F0;]
A --- D[&#x8FD4;&#x56DE;&#x503C;]
A --- E[&#x53C2;&#x6570;]
A --- F[&#x51FD;&#x6570;&#x4F53;]
C --- G[SEL name]
D --- H[const char types]
E --- H
F --- I[IMP imp]
G --- B[struct method_t]
H --- B
I --- B
</div>

<h4 id="&#x5BF9;&#x8C61;&#x3001;&#x7C7B;&#x5BF9;&#x8C61;&#x3001;&#x5143;&#x7C7B;&#x5BF9;&#x8C61;">&#x5BF9;&#x8C61;&#x3001;&#x7C7B;&#x5BF9;&#x8C61;&#x3001;&#x5143;&#x7C7B;&#x5BF9;&#x8C61;</h4>
<ul>
<li><strong>&#x7C7B;&#x5BF9;&#x8C61;</strong>&#x5B58;&#x50A8;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x7B49;&#x4FE1;&#x606F;</li>
<li><strong>&#x5143;&#x7C7B;&#x5BF9;&#x8C61;</strong>&#x5B58;&#x50A8;&#x7C7B;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x7B49;&#x4FE1;&#x606F;</li>
</ul>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCE7943583de020982a6159fab6e3d17f16/12407" alt="image"></p>
<h4 id="&#x6D88;&#x606F;&#x4F20;&#x9012;">&#x6D88;&#x606F;&#x4F20;&#x9012;</h4>
<pre><code class="lang-objective-c">struct objc_super {
    /// Specifies an instance of a class.
    __unsafe_unretained _Nonnull id receiver;
    /// Specifies the particular superclass of the instance to message. 
    __unsafe_unretained _Nonnull Class super_class;
};
</code></pre>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="470.15625" version="1.1" width="1200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1200 470.15625" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj14" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj15" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj17" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj19" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj20" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj24" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj26" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj28" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,88.5,41.4375)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,88.5,41.4375)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x5F00;&#x59CB;</tspan></text><path fill="#ffffff" stroke="#000000" d="M21.75,13.359375L0,26.71875L43.5,53.4375L87,26.71875L43.5,0L0,26.71875" stroke-width="3" id="B" class="flowchart" transform="matrix(1,0,0,1,69,159.5938)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="26.75" y="26.71875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,69,159.5938)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7F13;&#x5B58;</tspan></text><rect x="0" y="0" width="61.21875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="E" transform="matrix(1,0,0,1,81.8906,304.4688)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,81.8906,304.4688)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Invoke</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,88.5,431.5313)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,88.5,431.5313)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><path fill="#ffffff" stroke="#000000" d="M42.75,21.375L0,42.75L85.5,85.5L171,42.75L85.5,0L0,42.75" stroke-width="3" id="C" class="flowchart" transform="matrix(1,0,0,1,233,143.5625)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="47.75" y="42.75" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,233,143.5625)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x5217;&#x8868;</tspan></text><path fill="#ffffff" stroke="#000000" d="M53.25,26.625L0,53.25L106.5,106.5L213,53.25L106.5,0L0,53.25" stroke-width="3" id="D" class="flowchart" transform="matrix(1,0,0,1,460,133.0625)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="58.25" y="53.25" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,460,133.0625)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x9010;&#x7EA7;&#x7236;&#x7C7B;&#x65B9;&#x6CD5;&#x5217;&#x8868;</tspan></text><rect x="0" y="0" width="76" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,797.5,168.5)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,797.5,168.5)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x6D88;&#x606F;&#x8F6C;&#x53D1;</tspan></text><path fill="none" stroke="#000000" d="M112.5,77.0625C112.5,77.0625,112.5,137.87547639012337,112.5,155.09790134435752" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj14)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M112.5,213.03125C112.5,213.03125,112.5,281.5614359229803,112.5,299.9655385878432" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj15)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="117.5" y="223.03125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M156,186.3125C156,186.3125,212.0294849872589,186.3125,228.4990894610528,186.3125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj17)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="161" y="176.3125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M112.5,340.09375C112.5,340.09375,112.5,408.6239359229803,112.5,427.0280385878432" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj19)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M318.5,229.0625C318.5,229.0625,318.5,279.46875,318.5,279.46875C318.5,279.46875,112.5,279.46875,112.5,279.46875C112.5,279.46875,112.5,292.7727212905884,112.5,299.9703776333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj20)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="323.5" y="239.0625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M404,186.3125C404,186.3125,442.20077085494995,186.3125,455.50016031763516,186.3125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="409" y="176.3125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M566.5,239.5625C566.5,239.5625,566.5,279.46875,566.5,279.46875C566.5,279.46875,112.5,279.46875,112.5,279.46875C112.5,279.46875,112.5,292.7727212905884,112.5,299.9703776333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj24)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="571.5" y="249.5625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M673,186.3125C673,186.3125,770.675133228302,186.3125,792.9954273449257,186.3125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj26)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="678" y="176.3125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M835.5,204.125C835.5,204.125,835.5,406.53125,835.5,406.53125C835.5,406.53125,112.5,406.53125,112.5,406.53125C112.5,406.53125,112.5,419.8352212905884,112.5,427.0328776333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj28)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h5 id="&#x7F13;&#x5B58;&#x67E5;&#x627E;">&#x7F13;&#x5B58;&#x67E5;&#x627E;</h5>
<p>&#x54C8;&#x5E0C;&#x67E5;&#x627E;</p>
<p>&#x7ED9;&#x5B9A;&#x503C;&#x662F;<code>SEL</code>&#xFF0C;&#x76EE;&#x6807;&#x503C;&#x662F;&#x5BF9;&#x5E94;&#x7684;<code>bucket_t</code>&#x4E2D;&#x7684;<code>IMP</code></p>
<div class="mermaid">
graph LR
    A[&quot;cache_key_t&quot;] --&quot;f(key)&quot;--&gt; B[&quot;bucket_t&quot;]
</div>

<p>f(key) = key &amp; mask</p>
<h5 id="&#x5F53;&#x524D;&#x7C7B;&#x4E2D;&#x67E5;&#x627E;">&#x5F53;&#x524D;&#x7C7B;&#x4E2D;&#x67E5;&#x627E;</h5>
<ul>
<li>&#x5BF9;&#x4E8E;<code>&#x5DF2;&#x7ECF;&#x6392;&#x597D;</code>&#x7684;&#x5217;&#x8868;&#xFF0C;&#x91C7;&#x7528;<code>&#x4E8C;&#x5206;&#x67E5;&#x627E;</code></li>
<li>&#x5BF9;&#x4E8E;<code>&#x6CA1;&#x6709;&#x6392;&#x5E8F;</code>&#x7684;&#x5217;&#x8868;&#xFF0C;&#x91C7;&#x7528;<code>&#x4E00;&#x822C;&#x4FBF;&#x5229;</code></li>
</ul>
<h5 id="&#x7236;&#x7C7B;&#x9010;&#x7EA7;&#x67E5;&#x627E;">&#x7236;&#x7C7B;&#x9010;&#x7EA7;&#x67E5;&#x627E;</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="486.48046875" version="1.1" width="867.91015625" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 867.91015625 486.48046875" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj12" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj13" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj14" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj16" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj18" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj20" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj24" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,90.3828,41.4375)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,90.3828,41.4375)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x5F00;&#x59CB;</tspan></text><rect x="0" y="0" width="216.765625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="B" transform="matrix(1,0,0,1,6,168.5)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,6,168.5)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">curClass=curClass-&gt;superclass</tspan></text><path fill="#ffffff" stroke="#000000" d="M43.04296875,21.521484375L0,43.04296875L86.0859375,86.0859375L172.171875,43.04296875L86.0859375,0L0,43.04296875" stroke-width="3" id="C" class="flowchart" transform="matrix(1,0,0,1,28.2969,270.332)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="48.04296875" y="43.04296875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,28.2969,270.332)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">curClass==nil</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,90.3828,447.8555)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,90.3828,447.8555)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><path fill="#ffffff" stroke="#000000" d="M42.75,21.375L0,42.75L85.5,85.5L171,42.75L85.5,0L0,42.75" stroke-width="3" id="D" class="flowchart" transform="matrix(1,0,0,1,279.3516,270.625)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="47.75" y="42.75" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,279.3516,270.625)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7F13;&#x5B58;&#x662F;&#x5426;&#x547D;&#x4E2D;</tspan></text><path fill="#ffffff" stroke="#000000" d="M53.25,26.625L0,53.25L106.5,106.5L213,53.25L106.5,0L0,53.25" stroke-width="3" id="E" class="flowchart" transform="matrix(1,0,0,1,508.2344,260.125)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="58.25" y="53.25" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,508.2344,260.125)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x662F;&#x5426;&#x547D;&#x4E2D;</tspan></text><path fill="none" stroke="#000000" d="M114.3828125,77.0625C114.3828125,77.0625,114.3828125,145.5926859229803,114.3828125,163.99678858784318" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj12)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M114.3828125,204.125C114.3828125,204.125,114.3828125,250.9319673664868,114.3828125,265.8334042429269" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj13)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M114.3828125,356.41796875C114.3828125,356.41796875,114.3828125,424.9481546729803,114.3828125,443.3522573378432" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj14)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="119.3828125" y="366.41796875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M200.46875,313.375C200.46875,313.375,258.1314234752208,313.375,274.85585123121746,313.375" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj16)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="205.46875" y="303.375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M364.8515625,356.125C364.8515625,356.125,364.8515625,422.85546875,364.8515625,422.85546875C364.8515625,422.85546875,114.3828125,422.85546875,114.3828125,422.85546875C114.3828125,422.85546875,114.3828125,436.1594400405884,114.3828125,443.3570963833481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj18)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="369.8515625" y="366.125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M450.3515625,313.375C450.3515625,313.375,490.14075196534395,313.375,503.74057258338144,313.375" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj20)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="455.3515625" y="303.375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M614.734375,366.625C614.734375,366.625,614.734375,422.85546875,614.734375,422.85546875C614.734375,422.85546875,114.3828125,422.85546875,114.3828125,422.85546875C114.3828125,422.85546875,114.3828125,436.1594400405884,114.3828125,443.3570963833481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="619.734375" y="376.625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M721.234375,313.375C721.234375,313.375,746.234375,313.375,746.234375,313.375C746.234375,313.375,746.234375,143.5,746.234375,143.5C746.234375,143.5,114.3828125,143.5,114.3828125,143.5C114.3828125,143.5,114.3828125,156.80397129058838,114.3828125,164.0016276333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj24)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="726.234375" y="303.375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text></svg></div></p>
<h4 id="&#x6D88;&#x606F;&#x8F6C;&#x53D1;">&#x6D88;&#x606F;&#x8F6C;&#x53D1;</h4>
<h5 id="&#x5B9E;&#x4F8B;&#x7684;&#x6D88;&#x606F;&#x8F6C;&#x53D1;">&#x5B9E;&#x4F8B;&#x7684;&#x6D88;&#x606F;&#x8F6C;&#x53D1;</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="1050.994140625" version="1.1" width="871.125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 871.125 1050.994140625" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj23" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj24" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj26" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj28" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj29" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj30" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj32" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj34" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj35" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj37" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj39" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj40" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="AA" transform="matrix(1,0,0,1,242.1328,30.7852)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="AAt" class="flowchartt" transform="matrix(1,0,0,1,242.1328,30.7852)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x5F00;&#x59CB;</tspan></text><rect x="0" y="0" width="328.625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,101.8203,147.1953)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,101.8203,147.1953)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">result = +(BOOL)resolveInstanceMethod:(SEL)sel</tspan></text><path fill="#ffffff" stroke="#000000" d="M24.076171875,13.359375L0,26.71875L48.15234375,53.4375L96.3046875,26.71875L48.15234375,0L0,26.71875" stroke-width="3" id="B" class="flowchart" transform="matrix(1,0,0,1,217.9805,254.6992)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="29.076171875" y="26.71875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,217.9805,254.6992)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">result</tspan></text><rect x="0" y="0" width="90" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="H" transform="matrix(1,0,0,1,622.4609,871.1738)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ht" class="flowchartt" transform="matrix(1,0,0,1,622.4609,871.1738)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x6D88;&#x606F;&#x5DF2;&#x5904;&#x7406;</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="ZZ" transform="matrix(1,0,0,1,242.1328,1012.3691)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="ZZt" class="flowchartt" transform="matrix(1,0,0,1,242.1328,1012.3691)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><rect x="0" y="0" width="373.28125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="C" transform="matrix(1,0,0,1,79.4922,388.9219)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,79.4922,388.9219)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">target = -(id)forwardingTargetForSelector:(SEL)aSelector</tspan></text><path fill="#ffffff" stroke="#000000" d="M34.423828125,17.2119140625L0,34.423828125L68.84765625,68.84765625L137.6953125,34.423828125L68.84765625,0L0,34.423828125" stroke-width="3" id="D" class="flowchart" transform="matrix(1,0,0,1,197.2852,488.7207)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="39.423828125" y="34.423828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,197.2852,488.7207)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">target!=nil</tspan></text><rect x="0" y="0" width="520.265625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="E" transform="matrix(1,0,0,1,6,638.3535)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,6,638.3535)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">signature = -(NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector</tspan></text><path fill="#ffffff" stroke="#000000" d="M42.59765625,21.298828125L0,42.59765625L85.1953125,85.1953125L170.390625,42.59765625L85.1953125,0L0,42.59765625" stroke-width="3" id="F" class="flowchart" transform="matrix(1,0,0,1,180.9375,729.9785)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="47.59765625" y="42.59765625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,180.9375,729.9785)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">signature!=nil</tspan></text><rect x="0" y="0" width="355.078125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,489.9219,754.7637)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,489.9219,754.7637)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">-(void)forwardInvocation:(NSInvocation *)anInvocation</tspan></text><rect x="0" y="0" width="104" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="I" transform="matrix(1,0,0,1,214.1328,895.959)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="It" class="flowchartt" transform="matrix(1,0,0,1,214.1328,895.959)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x6D88;&#x606F;&#x65E0;&#x6CD5;&#x5904;&#x7406;</tspan></text><path fill="none" stroke="#000000" d="M266.1328125,66.41015625C266.1328125,66.41015625,266.1328125,125.69974115514196,266.1328125,142.69338682863724" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M266.1328125,182.8203125C266.1328125,182.8203125,266.1328125,234.46682459115982,266.1328125,250.20287124393508" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj23)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M314.28515625,281.41796875C314.28515625,281.41796875,667.4609375,281.41796875,667.4609375,281.41796875C667.4609375,281.41796875,667.4609375,812.251026713755,667.4609375,866.6821508213666" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj24)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="319.28515625" y="271.41796875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M266.1328125,308.13671875C266.1328125,308.13671875,266.1328125,367.42630365514196,266.1328125,384.41994932863724" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj26)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="271.1328125" y="318.13671875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M667.4609375,906.798828125C667.4609375,906.798828125,667.4609375,987.369140625,667.4609375,987.369140625C667.4609375,987.369140625,266.1328125,987.369140625,266.1328125,987.369140625C266.1328125,987.369140625,266.1328125,1000.6731119155884,266.1328125,1007.8707682583481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj28)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M266.1328125,424.546875C266.1328125,424.546875,266.1328125,469.62705668539274,266.1328125,484.22088503374005" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj29)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M334.98046875,523.14453125C334.98046875,523.14453125,667.4609375,523.14453125,667.4609375,523.14453125C667.4609375,523.14453125,667.4609375,826.0101558909519,667.4609375,866.6781474809234" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj30)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="339.98046875" y="513.14453125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M266.1328125,557.568359375C266.1328125,557.568359375,266.1328125,616.857944280142,266.1328125,633.8515899536372" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj32)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="271.1328125" y="567.568359375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.857421875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M266.1328125,673.978515625C266.1328125,673.978515625,266.1328125,712.17928647995,266.1328125,725.4786759426352" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj34)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M351.328125,772.576171875C351.328125,772.576171875,461.624397598207,772.576171875,485.4285736179372,772.576171875" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj35)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="356.328125" y="762.576171875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.865234375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M266.1328125,815.173828125C266.1328125,815.173828125,266.1328125,874.463413030142,266.1328125,891.4570587036374" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj37)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="271.1328125" y="825.173828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M667.4609375,790.388671875C667.4609375,790.388671875,667.4609375,849.678256780142,667.4609375,866.6719024536371" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj39)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M266.1328125,931.583984375C266.1328125,931.583984375,266.1328125,990.873569280142,266.1328125,1007.8672149536371" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj40)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h5 id="&#x7C7B;&#x7684;&#x6D88;&#x606F;&#x8F6C;&#x53D1;">&#x7C7B;&#x7684;&#x6D88;&#x606F;&#x8F6C;&#x53D1;</h5>
<pre><code class="lang-objective-c">+ (BOOL)resolveClassMethod:(SEL)sel
+ (id)forwardingTargetForSelector:(SEL)sel
+ (NSMethodSignature *)methodSignatureForSelector:(SEL)sel
+ (void)forwardInvocation:(NSInvocation *)invocation
+ (void)doesNotRecognizeSelector:(SEL)sel
</code></pre>
<h4 id="&#x52A8;&#x6001;&#x65B9;&#x6CD5;&#x89E3;&#x6790;">&#x52A8;&#x6001;&#x65B9;&#x6CD5;&#x89E3;&#x6790;</h4>
<p><code>@dynamic:</code>getter&amp;setter &#x8FD0;&#x884C;&#x65F6;&#x6DFB;&#x52A0;&#x800C;&#x4E0D;&#x662F;&#x7F16;&#x8BD1;&#x65F6;&#x6DFB;&#x52A0;</p>
<ul>
<li>&#x52A8;&#x6001;&#x8FD0;&#x884C;&#x65F6;&#x8BED;&#x8A00;&#x5C06;&#x51FD;&#x6570;&#x51B3;&#x8BAE;&#x63A8;&#x8FDF;&#x5230;&#x8FD0;&#x884C;&#x65F6;</li>
<li>&#x7F16;&#x8BD1;&#x65F6;&#x8BED;&#x8A00;&#x5728;&#x7F16;&#x8BD1;&#x671F;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x51B3;&#x8BAE;</li>
</ul>
<h3 id="&#x7B2C;6&#x7AE0;-&#x5185;&#x5B58;&#x7BA1;&#x7406;">&#x7B2C;6&#x7AE0; &#x5185;&#x5B58;&#x7BA1;&#x7406;</h3>
<div class="mermaid">
graph LR
    A((&#x5185;&#x5B58;&#x7BA1;&#x7406;)) --- B[&#x5F15;&#x7528;&#x8BA1;&#x6570;]
    A((&#x5185;&#x5B58;&#x7BA1;&#x7406;)) --- C[&#x5F31;&#x5F15;&#x7528;]
    A((&#x5185;&#x5B58;&#x7BA1;&#x7406;)) --- D[&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6C60;]
    A((&#x5185;&#x5B58;&#x7BA1;&#x7406;)) --- E[&#x5FAA;&#x73AF;&#x5F15;&#x7528;]
    F[&#x5185;&#x5B58;&#x5E03;&#x5C40;] --- A((&#x5185;&#x5B58;&#x7BA1;&#x7406;))
    G[&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65B9;&#x6848;] --- A((&#x5185;&#x5B58;&#x7BA1;&#x7406;))
    H[&#x6570;&#x636E;&#x7ED3;&#x6784;] --- A((&#x5185;&#x5B58;&#x7BA1;&#x7406;)) 
    I[ARC &amp; MRC] --- A((&#x5185;&#x5B58;&#x7BA1;&#x7406;))
</div>

<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCE69b9fb0641a5531b0900d5e3fb6611cc/13050" alt="image"></p>
<h4 id="&#x5BF9;&#x8C61;&#x5185;&#x5B58;&#x5927;&#x5C0F;">&#x5BF9;&#x8C61;&#x5185;&#x5B58;&#x5927;&#x5C0F;</h4>
<ul>
<li>&#x5185;&#x5B58;&#x5BF9;&#x9F50;&#xFF1A;&#x6700;&#x5927;&#x6307;&#x9488;&#x7684;&#x6574;&#x6570;&#x500D;</li>
<li>iOS&#x6309;16&#x3001;32&#x3001;48... 16&#x7684;&#x6574;&#x6570;&#x500D;&#x6765;&#x53D6;&#x5927;&#x5C0F;</li>
</ul>
<pre><code>1&#x3001;&#x6570;&#x636E;&#x7684;&#x5F00;&#x59CB;&#x5728;CPU&#x8BFB;&#x53D6;&#x7684;0&#x5B57;&#x8282;&#x5904;&#xFF0C;&#x8FD9;&#x521A;CPU&#x4E00;&#x6B21;&#x5C31;&#x4F60;&#x80FD;&#x591F;&#x8BFB;&#x53D6;&#x5B8C;&#x6BD5;
2&#x3001;&#x6570;&#x636E;&#x7684;&#x5F00;&#x59CB;&#x6CA1;&#x5728;0&#x5B57;&#x8282;&#x5904;&#xFF0C;&#x5047;&#x8BBE;&#x5728;1&#x5B57;&#x8282;&#x5904;&#x5427;&#xFF0C;CPU&#x8981;&#x5148;&#x5C06;0~3&#x5B57;&#x8282;&#x8BFB;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5728;&#x8BFB;&#x53D6;4~7&#x5B57;&#x8282;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x7136;&#x540E;&#x5C06;0~3&#x5B57;&#x8282;&#x91CC;&#x7684;0&#x5B57;&#x8282;&#x4E22;&#x5F03;&#xFF0C;&#x5C06;4~7&#x5B57;&#x8282;&#x91CC;&#x7684;5&#xFF0C;6&#xFF0C;7&#x5B57;&#x8282;&#x7684;&#x6570;&#x636E;&#x4E22;&#x5F03;&#x3002;&#x7136;&#x540E;&#x7EC4;&#x5408;1,2,3,4&#x7684;&#x6570;&#x636E;&#x3002;
&#x7531;&#x6B64;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;CPU&#x8BFB;&#x53D6;&#x7684;&#x6548;&#x7387;&#x4E0D;&#x662F;&#x5F88;&#x9AD8;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#x3002;
&#x4F46;&#x5982;&#x679C;&#x6709;&#x5185;&#x5B58;&#x5BF9;&#x9F50;&#x7684;&#x8BDD;&#xFF1A;
&#x7531;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x90FD;&#x662F;&#x5BF9;&#x9F50;&#x597D;&#x7684;&#xFF0C;CPU&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x5C31;&#x80FD;&#x591F;&#x5C06;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x5B8C;&#x6210;&#xFF0C;&#x867D;&#x7136;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x5185;&#x5B58;&#x788E;&#x7247;&#xFF0C;&#x4F46;&#x4ECE;&#x6574;&#x4E2A;&#x5185;&#x5B58;&#x7684;&#x5927;&#x5C0F;&#x6765;&#x8BF4;&#xFF0C;&#x90FD;&#x4E0D;&#x7B97;&#x4EC0;&#x4E48;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x7528;&#x7A7A;&#x95F4;&#x6362;&#x53D6;&#x65F6;&#x95F4;&#x7684;&#x505A;&#x6CD5;&#x3002;
</code></pre><h4 id="&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65B9;&#x6848;">&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65B9;&#x6848;</h4>
<h5 id="taggedpointer&#x5C0F;&#x5BF9;&#x8C61;">TaggedPointer(&#x5C0F;&#x5BF9;&#x8C61;)</h5>
<h5 id="nonpointerisa">NONPOINTER_ISA</h5>
<ol>
<li><strong>0</strong>&#x4F4D;&#x6807;&#x8BB0;&#x662F;&#x5426;&#x662F;&#x7EAF;ISA&#x6307;&#x9488;&#xFF0C;&#x8FD8;&#x662F;&#x975E;&#x6307;&#x9488;&#x578B;&#x7684;NONPINTER_ISA&#x6307;&#x9488; <code>indexed</code></li>
<li><strong>1</strong>&#x4F4D;&#x6807;&#x8BB0;&#x662F;&#x5426;&#x6709;&#x5173;&#x8054;&#x5BF9;&#x8C61; <code>has_assoc</code></li>
<li><strong>2</strong>&#x4F4D;&#x6807;&#x8BB0;&#x662F;&#x5426;&#x4F7F;&#x7528;C++&#x76F8;&#x5173;&#x5185;&#x5BB9;&#xFF0C;&#x5728;ARC&#x4E0B;&#x4E5F;&#x53EF;&#x4EE5;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x901A;&#x8FC7;ARC&#x6765;&#x7BA1;&#x7406;&#x7684; <code>has_cxx_dtar</code></li>
<li><strong>3~35</strong>&#x4F4D;&#x6807;&#x8BB0;&#x5F53;&#x524D;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x6307;&#x9488;&#x5730;&#x5740;</li>
<li><strong>36</strong>&#x4F4D; <code>magic</code></li>
<li><strong>37</strong>&#x4F4D;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x6709;&#x5F31;&#x5F15;&#x7528;&#x6307;&#x9488; <code>weakly_referenced</code></li>
<li><strong>38</strong>&#x4F4D;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x6B63;&#x5728;dealloc <code>deallocating</code></li>
<li><strong>39</strong>&#x4F4D;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x6709;SideTable&#x7ED3;&#x6784;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x5F15;&#x7528;&#x8BA1;&#x6570; <code>has_sidetable_rc</code></li>
<li><strong>40~63</strong>&#x4F4D;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x8BA1;&#x6570; extrac_rc</li>
</ol>
<h5 id="&#x6563;&#x5217;&#x8868;">&#x6563;&#x5217;&#x8868;</h5>
<div class="mermaid">
graph BT
    subgraph SideTables
        A[SideTable2]
        B[SideTable3]
        C[SideTable1]
    end
    subgraph SideTable
        D[&quot;spinlock_t&#x81EA;&#x65CB;&#x9501;&quot;] --&gt; C
        E[&quot;RefcountMap&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x8868;&quot;] --&gt; C
        F[&quot;weak_table_t&#x5F31;&#x5F15;&#x7528;&#x8868;&quot;] --&gt; C
    end
</div>

<p>SideTables&#x7684;&#x672C;&#x8D28;&#x662F;&#x4E00;&#x5F20;<code>Hash&#x8868;</code></p>
<div class="mermaid">
graph LR
    subgraph SideTables
                A[&quot;Key&#xFF1A;&#x5BF9;&#x8C61;&#x6307;&#x9488;Key&quot;] --Hash&#x51FD;&#x6570;--&gt; B[&quot;Value&#xFF1A;SideTable&quot;]
        end
</div>

<h4 id="sidetable">SideTable</h4>
<h5 id="spinlockt">spinlock_t</h5>
<ul>
<li><code>spinlock_t</code>&#x662F;&quot;&#x5FD9;&#x7B49;&quot;&#x7684;&#x9501;&#xFF08;&#x81EA;&#x65CB;&#x9501;&#xFF09;</li>
<li>&#x9002;&#x7528;&#x4E8E;&#x8F7B;&#x91CF;&#x8BBF;&#x95EE;</li>
</ul>
<h5 id="refcountmap">RefcountMap</h5>
<div class="mermaid">
graph LR
    subgraph RefcountMap
        A[&quot;ptr&quot;] --&quot;DisguisedPtr(objc_object)&quot;--&gt; B[&quot;size_t&quot;]
    end
</div>

<ol>
<li>size_t <strong>0</strong> &#x4F4D;&#x8868;&#x793A;&#x662F;&#x5426;&#x6709;&#x5F31;&#x5F15;&#x7528; <code>weak_referenced</code></li>
<li>size_t <strong>1</strong> &#x4F4D;&#x8868;&#x793A;&#x662F;&#x5426;&#x6B63;&#x5728; <code>deallocating</code></li>
<li>size_t <strong>2~63</strong> &#x4F4D;&#x8868;&#x793A;&#x5F15;&#x7528;&#x8BA1;&#x6570; <code>retaincount</code></li>
</ol>
<h5 id="weaktablet">weak_table_t</h5>
<div class="mermaid">
graph LR
    subgraph weak_table_t
        A[&quot;Key&#xFF1A;&#x5BF9;&#x8C61;&#x6307;&#x9488;&quot;] --Hash&#x51FD;&#x6570;--&gt; B[&quot;Value&#xFF1A;weak_entry_t&quot;]
    end
</div>

<p>weak_entry_t&#x662F;&#x7ED3;&#x6784;&#x4F53;&#x6570;&#x7EC4;&#xFF0C;&#x5B58;&#x653E;&#x4E86;&#x5F31;&#x5F15;&#x7528;&#x6307;&#x9488;</p>
<h4 id="mrcarc">MRC&amp;ARC</h4>
<ul>
<li>MRC&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x624B;&#x52A8;&#x64CD;&#x4F5C;&#x5F15;&#x7528;&#x8BA1;&#x6570;</li>
<li>ARC&#x662F;LLVM&#xFF08;&#x7F16;&#x8BD1;&#x5668;&#xFF09;&#x548C;Runtime&#xFF08;&#x8FD0;&#x884C;&#x65F6;&#xFF09;&#x534F;&#x4F5C;&#x7684;&#x7ED3;&#x679C;</li>
<li>ARC&#x4E2D;&#x7981;&#x6B62;&#x624B;&#x52A8;&#x8C03;&#x7528;retain/release/retainCount/dealloc</li>
<li>ARC&#x4E2D;&#x65B0;&#x589E;&#x4E86;<code>weak</code>&#x3001;<code>strong</code>&#x5C5E;&#x6027;&#x5173;&#x952E;&#x5B57;</li>
</ul>
<h5 id="&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x7BA1;&#x7406;">&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x7BA1;&#x7406;</h5>
<h6 id="alloc">alloc</h6>
<p>&#x7ECF;&#x8FC7;&#x4E00;&#x7CFB;&#x5217;&#x8C03;&#x7528;&#xFF0C;&#x6700;&#x7EC8;&#x8C03;&#x7528;C&#x51FD;&#x6570;calloc&#x3002;&#x6B64;&#x65F6;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x4E3A;1</p>
<h6 id="strong">strong</h6>
<ul>
<li><p>&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x5BF9;&#x666E;&#x901A;&#x5BF9;&#x8C61;<strong>strong</strong></p>
<p>&#x4F1A;&#x76F4;&#x63A5;&#x8C03;&#x7528;<strong>retain</strong>&#x65B9;&#x6CD5;<strong>objc_retain(id obj)</strong></p>
</li>
<li><p>&#x5982;&#x679C;&#x662F;&#x5BF9;<strong>weak</strong>&#x5BF9;&#x8C61;&#x8C03;&#x7528;<strong>strong</strong></p>
<p>&#x4F1A;&#x8C03;&#x7528;<strong>objc_loadWeakRetained(id *location)</strong></p>
</li>
<li><p>&#x5982;&#x679C;&#x6709;<strong>arc</strong>&#x4E0B;<strong>block</strong>&#x6709;<strong>weak</strong>&#xFF0C;&#x7136;&#x540E;<strong>strong</strong></p>
<pre><code class="lang-flow">A=&gt;start: objc_initWeak()
B=&gt;operation: objc_copyWeak(id *dst, id *src)
C=&gt;operation: objc_loadWeakRetained(id *location)
D=&gt;end: objc_storeStrong(id *location, id obj)
A-&gt;B-&gt;C-&gt;D
</code></pre>
</li>
</ul>
<pre><code class="lang-c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">objc_storeStrong</span><span class="hljs-params">(id *location, id obj)</span> </span>{
    id prev = *location;
    <span class="hljs-keyword">if</span> (obj == prev) {
        <span class="hljs-keyword">return</span>;
    }
    objc_retain(obj);
    *location = obj;
    objc_release(prev);
}
</code></pre>
<h6 id="retain">retain</h6>
<pre><code class="lang-objective-c">void
SideTable &amp;table = SideTables()[this]
size_t *refcntStorage = talbe.refcnts.find(this)
refcntStorage += SIDE_TABLE_RC_ONE
</code></pre>
<h6 id="release">release</h6>
<pre><code class="lang-objective-c">SideTable &amp;table = SideTables()[this]
RefcountMap::interator it = talbe.refcnts.find(this)
it-&gt;second -= SIDE_TABLE_RC_ONE
</code></pre>
<h6 id="retaincount">retainCount</h6>
<pre><code class="lang-objective-c">SideTable &amp;table = SideTables()[this]
size_t refcnt_result = 1
RefcountMap::interator it = talbe.refcnts.find(this)
refcnt_result += it-&gt;second &gt;&gt; SIDE_TABLE_RC_SHIFT
</code></pre>
<h6 id="dealloc">dealloc</h6>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="1452.322265625" version="1.1" width="997.734375" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 997.734375 1452.322265625" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj24" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj25" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj26" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj27" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj29" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj31" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj32" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj33" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj35" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj37" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj38" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj40" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj42" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj43" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="173.125" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,52.7383,54.8379)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,52.7383,54.8379)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">[[NSObject new] dealloc]</tspan></text><rect x="0" y="0" width="163.078125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="B" transform="matrix(1,0,0,1,57.7617,195.3008)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,57.7617,195.3008)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_objc_rootDealloc(self)</tspan></text><rect x="0" y="0" width="131.578125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="C" transform="matrix(1,0,0,1,73.5117,335.7637)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,73.5117,335.7637)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">obj-&gt;rootDealloc()</tspan></text><path fill="#ffffff" stroke="#000000" d="M37.5,19.6640625L0,39.328125L75,78.65625L150,39.328125L75,0L0,39.328125" stroke-width="3" id="D" class="flowchart" transform="matrix(1,0,0,1,64.3008,454.7109)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="42.5" y="39.328125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,64.3008,454.7109)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x5224;&#x65AD;&#x662F;&#x5426;&#x53EF;</tspan><tspan dy="16.8" x="42.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x4EE5;&#x76F4;&#x63A5;&#x6E05;&#x9664;</tspan></text><rect x="0" y="0" width="75.171875" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="E" transform="matrix(1,0,0,1,101.7148,1413.6973)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,101.7148,1413.6973)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">free(this)</tspan></text><rect x="0" y="0" width="164.625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,56.9883,638.2051)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,56.9883,638.2051)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">object_dispose((id)this)</tspan></text><rect x="0" y="0" width="184.0625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,47.2695,778.668)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,47.2695,778.668)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">objc_destructInstance(obj)</tspan></text><path fill="#ffffff" stroke="#000000" d="M42.15234375,21.076171875L0,42.15234375L84.3046875,84.3046875L168.609375,42.15234375L84.3046875,0L0,42.15234375" stroke-width="3" id="H" class="flowchart" transform="matrix(1,0,0,1,54.9961,894.791)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="47.15234375" y="42.15234375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ht" class="flowchartt" transform="matrix(1,0,0,1,54.9961,894.791)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.53515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">obj-&gt;</tspan><tspan dy="16.8" x="47.15234375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">hasCxxDtor()</tspan></text><rect x="0" y="0" width="166.171875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="J" transform="matrix(1,0,0,1,626.5039,919.1309)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Jt" class="flowchartt" transform="matrix(1,0,0,1,626.5039,919.1309)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">object_cxxDestruct(obj)</tspan></text><path fill="#ffffff" stroke="#000000" d="M66.650390625,33.3251953125L0,66.650390625L133.30078125,133.30078125L266.6015625,66.650390625L133.30078125,0L0,66.650390625" stroke-width="3" id="I" class="flowchart" transform="matrix(1,0,0,1,6,1035.0957)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="71.650390625" y="66.650390625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="It" class="flowchartt" transform="matrix(1,0,0,1,6,1035.0957)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.537109375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">obj-&gt;</tspan><tspan dy="16.8" x="71.650390625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">hasAssociatedObjects()</tspan></text><rect x="0" y="0" width="229.203125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="K" transform="matrix(1,0,0,1,347.3008,1083.9336)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Kt" class="flowchartt" transform="matrix(1,0,0,1,347.3008,1083.9336)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_object_remove_assocations(obj)</tspan></text><rect x="0" y="0" width="168.140625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="L" transform="matrix(1,0,0,1,55.2305,1273.2344)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Lt" class="flowchartt" transform="matrix(1,0,0,1,55.2305,1273.2344)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">obj-&gt;clearDeallocating()</tspan></text><path fill="none" stroke="#000000" d="M139.30078125,90.462890625C139.30078125,90.462890625,139.30078125,170.72940063476562,139.30078125,190.79602813720703" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj24)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M139.30078125,230.92578125C139.30078125,230.92578125,139.30078125,311.1922912597656,139.30078125,331.25891876220703" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj25)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M139.30078125,371.388671875C139.30078125,371.388671875,139.30078125,432.85437368089333,139.30078125,450.20162741322065" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj26)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M214.30078125,494.0390625C214.30078125,494.0390625,239.30078125,494.0390625,239.30078125,494.0390625C239.30078125,494.0390625,239.30078125,1388.697265625,239.30078125,1388.697265625C239.30078125,1388.697265625,139.30078125,1388.697265625,139.30078125,1388.697265625C139.30078125,1388.697265625,139.30078125,1402.0012369155884,139.30078125,1409.198893258348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj27)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="219.30078125" y="484.0390625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M139.30078125,533.3671875C139.30078125,533.3671875,139.30078125,613.6336975097656,139.30078125,633.700325012207" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj29)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="144.30078125" y="543.3671875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M139.30078125,673.830078125C139.30078125,673.830078125,139.30078125,754.0965881347656,139.30078125,774.163215637207" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj31)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M139.30078125,814.29296875C139.30078125,814.29296875,139.30078125,873.3381712865084,139.30078125,890.2906024835138" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj32)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M223.60546875,936.943359375C223.60546875,936.943359375,233.30078125,936.943359375,233.30078125,936.943359375C233.30078125,936.943359375,239.30078125,924.943359375,245.30078125,936.943359375C245.30078125,936.943359375,579.2092941899318,936.943359375,622.007626536969,936.943359375" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj33)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="228.60546875" y="926.943359375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.857421875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M139.30078125,979.095703125C139.30078125,979.095703125,139.30078125,1017.29647397995,139.30078125,1030.5958634426352" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj35)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="144.30078125" y="989.095703125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M709.58984375,954.755859375C709.58984375,954.755859375,709.58984375,1010.095703125,709.58984375,1010.095703125C709.58984375,1010.095703125,245.30078125,1010.095703125,245.30078125,1010.095703125C245.30078125,1010.095703125,239.30078125,998.095703125,233.30078125,1010.095703125C233.30078125,1010.095703125,139.30078125,1010.095703125,139.30078125,1010.095703125C139.30078125,1010.095703125,139.30078125,1023.3996744155884,139.30078125,1030.597330758348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj37)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M272.6015625,1101.74609375C272.6015625,1101.74609375,326.64618111774325,1101.74609375,342.79623316562356,1101.74609375" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj38)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="277.6015625" y="1091.74609375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M139.30078125,1168.396484375C139.30078125,1168.396484375,139.30078125,1248.6629943847656,139.30078125,1268.729621887207" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj40)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="144.30078125" y="1178.396484375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.857421875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M461.90234375,1119.55859375C461.90234375,1119.55859375,461.90234375,1248.234375,461.90234375,1248.234375C461.90234375,1248.234375,245.30078125,1248.234375,245.30078125,1248.234375C245.30078125,1248.234375,239.30078125,1236.234375,233.30078125,1248.234375C233.30078125,1248.234375,139.30078125,1248.234375,139.30078125,1248.234375C139.30078125,1248.234375,139.30078125,1261.5383462905884,139.30078125,1268.736002633348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj42)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M139.30078125,1308.859375C139.30078125,1308.859375,139.30078125,1389.1258850097656,139.30078125,1409.192512512207" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj43)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<pre><code class="lang-c++"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span>
objc_object::rootDealloc()
{
    <span class="hljs-keyword">if</span> (isTaggedPointer()) <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// fixme necessary?</span>

    <span class="hljs-keyword">if</span> (fastpath(isa.nonpointer  &amp;&amp;  
                 !isa.weakly_referenced  &amp;&amp;  
                 !isa.has_assoc  &amp;&amp;  
                 !isa.has_cxx_dtor  &amp;&amp;  
                 !isa.has_sidetable_rc))
    {
        assert(!sidetable_present());
        <span class="hljs-built_in">free</span>(<span class="hljs-keyword">this</span>);
    } 
    <span class="hljs-keyword">else</span> {
        object_dispose((id)<span class="hljs-keyword">this</span>);
    }
}
</code></pre>
<pre><code class="lang-c++"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> 
objc_object::clearDeallocating()
{
    <span class="hljs-keyword">if</span> (slowpath(!isa.nonpointer)) {
        <span class="hljs-comment">// Slow path for raw pointer isa.</span>
        sidetable_clearDeallocating();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (slowpath(isa.weakly_referenced  ||  isa.has_sidetable_rc)) {
        <span class="hljs-comment">// Slow path for non-pointer isa with weak refs and/or side table data.</span>
        clearDeallocating_slow();
    }

    assert(!sidetable_present());
}
</code></pre>
<pre><code class="lang-c++">NEVER_INLINE <span class="hljs-keyword">void</span>
objc_object::clearDeallocating_slow()
{
    ASSERT(isa.nonpointer  &amp;&amp;  (isa.weakly_referenced || isa.has_sidetable_rc));

    SideTable&amp; table = SideTables()[<span class="hljs-keyword">this</span>];
    table.lock();
    <span class="hljs-keyword">if</span> (isa.weakly_referenced) {
        weak_clear_no_lock(&amp;table.weak_table, (id)<span class="hljs-keyword">this</span>);
    }
    <span class="hljs-keyword">if</span> (isa.has_sidetable_rc) {
        table.refcnts.erase(<span class="hljs-keyword">this</span>);
    }
    table.unlock();
}
</code></pre>
<h5 id="&#x5F31;&#x5F15;&#x7528;&#x7BA1;&#x7406;">&#x5F31;&#x5F15;&#x7528;&#x7BA1;&#x7406;</h5>
<h6 id="&#x6DFB;&#x52A0;weak&#x53D8;&#x91CF;">&#x6DFB;&#x52A0;weak&#x53D8;&#x91CF;</h6>
<pre><code class="lang-objective-c">id __weak obj1 = obj;
////////////////////
id obj1;
objc_initWeak(&amp;objc1, obj)
</code></pre>
<div class="mermaid">
graph LR
    A[&quot;objc_initWeak()&quot;] --&gt; B[&quot;storeWeak()&quot;]
    B --&gt; C[&quot;weak_register_no_lock()&quot;]
</div>

<ol>
<li>&#x5224;&#x65AD;&#x6307;&#x9488;&#x5730;&#x5740;&#x662F;&#x5426;&#x6709;&#x5173;&#x8054;<strong>&#x65E7;&#x5BF9;&#x8C61;</strong>&#xFF0C;&#x6709;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x8BB0;&#x5F55;&#x5173;&#x8054;&#x65E7;&#x5BF9;&#x8C61;&#x7684;<strong>oldTable</strong></li>
<li>&#x5224;&#x65AD;&#x662F;&#x5426;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5B58;&#x5728;&#x8BB0;&#x5F55;&#x5BF9;&#x8C61;&#x7684;<strong>newTable</strong></li>
<li>&#x5220;&#x9664;&#x5C31;&#x5BF9;&#x8C61;&#x7684;weak&#x5F15;&#x7528;<strong>weak_unregister_no_lock</strong></li>
<li>&#x5173;&#x8054;&#x6307;&#x9488;&#x548C;&#x65B0;&#x5BF9;&#x8C61;<strong>weak_register_no_lock</strong></li>
<li>&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x5F31;&#x5BF9;&#x8C61;</li>
<li>&#x5728;<strong>newTable</strong>&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;<strong>weak_entry_t</strong>&#xFF0C;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#xFF0C;&#x901A;&#x8FC7;Hash&#x8FD0;&#x7B97;<strong>weak_entry_for_referent()</strong></li>
<li>weak_entry_t&#x7684;&#x957F;&#x5EA6;&#x597D;&#x50CF;&#x662F;4</li>
</ol>
<h6 id="&#x6E05;&#x9664;weak&#x53D8;&#x91CF;&#xFF0C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x6307;&#x5411;&#x4E3A;nil">&#x6E05;&#x9664;weak&#x53D8;&#x91CF;&#xFF0C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x6307;&#x5411;&#x4E3A;nil</h6>
<h4 id="&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6C60;">&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6C60;</h4>
<ul>
<li>&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6C60;&#x662F;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;</li>
</ul>
<div class="mermaid">
graph LR
    A[PoolPage] --child--&gt; B[PoolPage]
    B[PoolPage] --parent--&gt; A[PoolPage]
    B[PoolPage] --child--&gt; C[PoolPage]
    C[PoolPage] --parent--&gt; B[PoolPage]
    C[PoolPage] --child--&gt; D[PoolPage]
    D[PoolPage] --parent--&gt; C[PoolPage]
</div>

<ul>
<li><code>AutoreleasePoolPage</code>&#x91CC;&#x6709;parent&#x3001;child&#x3001;thread&#x3001;next&#x6307;&#x9488;&#xFF0C;&#x5176;&#x4E2D;next&#x4EE3;&#x8868;&#x6808;&#x5F53;&#x4E2D;&#x4E0B;&#x4E00;&#x4E2A;&#x53EF;&#x586B;&#x5145;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x6C60;&#x548C;&#x7EBF;&#x7A0B;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;</li>
</ul>
<pre><code class="lang-objective-c">class AutoreleasePoolPage {
    magic_t const magic;
    id *next;
    pthread_t const thread;
    AutoreleasePoolPage * const parent;
    AutoreleasePoolPage *child;
    uint32_t const depth;
    uint32_t hiwat;
}
</code></pre>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCE05680e64fbe9e5d4606b9150506bed24/13081" alt="image"></p>
<ul>
<li><code>objc_autoreleasePoolPush</code>&#x4F1A;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x54E8;&#x5175;&#x5BF9;&#x8C61;&#xFF08;POOL_SENTINEL&#xFF09;&#xFF0C;&#x5176;&#x503C;&#x4E3A;nil</li>
<li>&#x5728;&#x5F80;Page&#x91CC;&#x6DFB;&#x52A0;&#x65B0;&#x5143;&#x7D20;&#x65F6;&#x90FD;&#x4F1A;&#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x4E09;&#x79CD;&#x5224;&#x65AD;</li>
</ul>
<pre><code class="lang-objective-c">static inline id *autoreleaseFast(id obj)
{
   AutoreleasePoolPage *page = hotPage();
   if (page &amp;&amp; !page-&gt;full()) {
       return page-&gt;add(obj);
   } else if (page) {
       return autoreleaseFullPage(obj, page);
   } else {
       return autoreleaseNoPage(obj);
   }
}
</code></pre>
<ul>
<li><code>objc_autoreleasePoolPop</code>&#x4F1A;&#x5C06;&#x54E8;&#x5175;&#x5BF9;&#x8C61;&#x4F20;&#x5165;&#x5E76;&#x4E14;&#x8C03;&#x7528;pageForPointer&#x5BF9;&#x54E8;&#x5175;&#x5730;&#x5740;4096&#x53D6;&#x6A21;&#xFF0C;&#x53D6;&#x5230;&#x5E94;&#x8BE5;&#x505C;&#x6B62;&#x7684;page</li>
</ul>
<pre><code class="lang-objective-c">static AutoreleasePoolPage *pageForPointer(const void *p) {
    return pageForPointer((uintptr_t)p);
}

static AutoreleasePoolPage *pageForPointer(uintptr_t p) {
    AutoreleasePoolPage *result;
    uintptr_t offset = p % SIZE;

    assert(offset &gt;= sizeof(AutoreleasePoolPage));

    result = (AutoreleasePoolPage *)(p - offset);
    result-&gt;fastcheck();

    return result;
}
</code></pre>
<ul>
<li>&#x4E4B;&#x540E;&#x8C03;&#x7528;<code>releaseUntil</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5224;&#x65AD;&#x5F53;&#x524D;page&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C06;&#x5F53;&#x524D;page&#x7684;next&#x6307;&#x9488;&#x524D;&#x79FB;&#xFF0C;&#x83B7;&#x53D6;next&#x7684;&#x503C;&#x4E3A;obj&#xFF0C;&#x5E76;&#x4E14;&#x64E6;&#x51FA;next&#x6307;&#x9488;&#x4E0A;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x679C;obj&#x6CA1;&#x5230;page&#x8FB9;&#x754C;&#xFF0C;&#x90A3;&#x4E48;&#x53D1;&#x9001;objc_release&#xFF0C;&#x77E5;&#x9053;next&#x6307;&#x9488;&#x6307;&#x5411;&#x54E8;&#x5175;&#x5730;&#x5740;</li>
</ul>
<pre><code class="lang-objective-c">void releaseUntil(id *stop) {
    while (this-&gt;next != stop) {
        AutoreleasePoolPage *page = hotPage();

        while (page-&gt;empty()) {
            page = page-&gt;parent;
            setHotPage(page);
        }

        page-&gt;unprotect();
        id obj = *--page-&gt;next;
        memset((void*)page-&gt;next, SCRIBBLE, sizeof(*page-&gt;next));
        page-&gt;protect();

        if (obj != POOL_SENTINEL) {
            objc_release(obj);
        }
    }

    setHotPage(this);
}
</code></pre>
<ul>
<li>&#x5224;&#x65AD;&#x5F53;&#x524D;page&#x662F;&#x5426;&#x6709;child&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5E76;&#x4E14;&#x5F53;&#x524D;page&#x4E0D;&#x8DB3;&#x4E00;&#x534A;&#xFF0C;&#x6E05;&#x9664;child&#xFF0C;&#x5426;&#x5219;&#x6E05;&#x9664;child&#x7684;child</li>
</ul>
<pre><code class="lang-objective-c">static inline void pop(void *token) {
    AutoreleasePoolPage *page = pageForPointer(token);
    id *stop = (id *)token;

    page-&gt;releaseUntil(stop);

    if (page-&gt;child) {
        if (page-&gt;lessThanHalfFull()) {
            page-&gt;child-&gt;kill();
        } else if (page-&gt;child-&gt;child) {
            page-&gt;child-&gt;child-&gt;kill();
        }
    }
}
</code></pre>
<ul>
<li>autorelease&#x91CA;&#x653E;&#x65F6;&#x673A;</li>
</ul>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/705E61BB6D3048DCA42E5BAB2C9C838C/13361" alt="image"></p>
<blockquote>
<p>&#x5728;&#x4E00;&#x6BB5;&#x540C;&#x6B65;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x5BF9;&#x8C61;&#x63A5;&#x53D7;autorelease&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x4E0D;&#x4F1A;&#x5728;&#x4F5C;&#x7528;&#x57DF;&#x7ED3;&#x675F;&#x524D;&#x91CA;&#x653E;&#x7684;&#x3002;
&#x6240;&#x4EE5;&#x4E25;&#x8C28;&#x7684;&#x8BF4;, &#x5728;&#x6CA1;&#x6709;&#x624B;&#x52A8;&#x6DFB;&#x52A0;Autorelease Pool&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Autorelease&#x5BF9;&#x8C61;&#x662F;&#x5728;&#x5F53;&#x524D;&#x7684;runloop&#x8FED;&#x4EE3;&#x7ED3;&#x675F;&#x65F6;&#x91CA;&#x653E;&#x7684;</p>
</blockquote>
<h4 id="&#x5FAA;&#x73AF;&#x5F15;&#x7528;">&#x5FAA;&#x73AF;&#x5F15;&#x7528;</h4>
<h5 id="&#x81EA;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#xFF0C;&#x5BF9;&#x8C61;&#x4E2D;obj&#x6301;&#x6709;&#x4E86;&#x81EA;&#x5DF1;">&#x81EA;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#xFF0C;&#x5BF9;&#x8C61;&#x4E2D;obj&#x6301;&#x6709;&#x4E86;&#x81EA;&#x5DF1;</h5>
<div class="mermaid">
graph TB
A(&quot;id _strong obj&quot;) --&gt; A
</div>

<h5 id="&#x76F8;&#x4E92;&#x5FAA;&#x73AF;&#x5F15;&#x7528;">&#x76F8;&#x4E92;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</h5>
<div class="mermaid">
graph LR
A(&quot;id _strong obj&quot;) --&gt; B(&quot;id _strong obj&quot;)
B --&gt; A
</div>

<h5 id="&#x591A;&#x5FAA;&#x73AF;&#x5F15;&#x7528;">&#x591A;&#x5FAA;&#x73AF;&#x5F15;&#x7528;</h5>
<div class="mermaid">
graph LR
A(&quot;A id _strong obj&quot;) --&gt; B(&quot;B id _strong obj&quot;)
B --&gt; C(&quot;C id _strong obj&quot;)
C --&gt; D(&quot;D id _strong obj&quot;)
D --&gt; A
</div>

<h5 id="nstimer&#x7684;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x95EE;&#x9898;">NSTimer&#x7684;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x95EE;&#x9898;</h5>
<p>&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x5BF9;&#x8C61;&#xFF0C;&#x5728;&#x4E2D;&#x95F4;&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x65F6;&#x68C0;&#x67E5;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x91CA;&#x653E;&#xFF0C;&#x91CA;&#x653E;&#x4E86;&#x9500;&#x6BC1;&#x5B9A;&#x65F6;&#x5668;</p>
<div class="mermaid">
graph LR
    A[Runloop] --&gt;B[NSTimer]
    B --&gt; C[&#x4E2D;&#x95F4;&#x5BF9;&#x8C61;]
    C -.-&gt; B
    C -.-&gt; D[&#x5BF9;&#x8C61;]
</div>

<h3 id="&#x7B2C;7&#x7AE0;-block">&#x7B2C;7&#x7AE0; Block</h3>
<h4 id="&#x4EC0;&#x4E48;&#x662F;block">&#x4EC0;&#x4E48;&#x662F;Block</h4>
<ul>
<li><strong>Block</strong>&#x662F;&#x5C06;<strong>&#x51FD;&#x6570;</strong>&#x53CA;&#x5176;<strong>&#x4E0A;&#x4E0B;&#x6587;</strong>&#x5C01;&#x88C5;&#x8D77;&#x6765;&#x7684;<strong>&#x5BF9;&#x8C61;</strong></li>
</ul>
<h4 id="&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x9759;&#x6001;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x533A;&#x522B;">&#x5168;&#x5C40;&#x53D8;&#x91CF;&amp;&#x9759;&#x6001;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x533A;&#x522B;</h4>
<h4 id="&#x622A;&#x83B7;&#x53D8;&#x91CF;">&#x622A;&#x83B7;&#x53D8;&#x91CF;</h4>
<ul>
<li>&#x5BF9;&#x4E8E;<strong>&#x57FA;&#x672C;&#x6570;&#x636E;</strong>&#x7C7B;&#x578B;&#x7684;<strong>&#x5C40;&#x90E8;&#x53D8;&#x91CF;</strong>&#x622A;&#x83B7;&#x5176;&#x503C;</li>
<li>&#x5BF9;&#x4E8E;<strong>&#x5BF9;&#x8C61;</strong>&#x7C7B;&#x578B;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;<strong>&#x8FDE;&#x540C;&#x6240;&#x6709;&#x6743;&#x4FEE;&#x9970;&#x7B26;</strong>&#x4E00;&#x8D77;&#x622A;&#x83B7;</li>
<li>&#x5BF9;&#x4E8E;<strong>&#x5C40;&#x90E8;&#x9759;&#x6001;&#x53D8;&#x91CF;</strong>&#x4EE5;<strong>&#x6307;&#x9488;&#x5F62;&#x5F0F;</strong>&#x622A;&#x83B7;</li>
<li>&#x5BF9;&#x4E8E;<strong>&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x3001;&#x5168;&#x5C40;&#x9759;&#x6001;&#x53D8;&#x91CF;</strong>&#x4E0D;&#x622A;&#x83B7;</li>
</ul>
<h4 id="block&#x4FEE;&#x9970;&#x7B26;">__block&#x4FEE;&#x9970;&#x7B26;</h4>
<ul>
<li><strong>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;</strong>&#xFF0C;&#x5BF9;&#x622A;&#x83B7;&#x53D8;&#x91CF;&#x8FDB;&#x884C;<strong>&#x590D;&#x5236;</strong>&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x6DFB;&#x52A0;<strong>__block&#x4FEE;&#x9970;&#x7B26;</strong></li>
</ul>
<div class="mermaid">
graph LR
        subgraph don&apos;t need
                E[&#x4E0D;&#x9700;&#x8981;__block&#x4FEE;&#x9970;&#x7B26;] --&gt; F[&#x9759;&#x6001;&#x5C40;&#x90E8;&#x53D8;&#x91CF;]
                E --&gt; G[&#x5168;&#x5C40;&#x53D8;&#x91CF;]
                E --&gt; H[&#x9759;&#x6001;&#x5168;&#x5C40;&#x53D8;&#x91CF;]
        end
    subgraph need
                A[&#x9700;&#x8981;__block&#x4FEE;&#x9970;&#x7B26;] --&gt; B[&#x5C40;&#x90E8;&#x53D8;&#x91CF;]
                B --&gt; C[&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;]
                B --&gt; D[&#x5BF9;&#x8C61;&#x7C7B;&#x578B;]
        end
</div>

<ul>
<li><strong>__block</strong>&#x4FEE;&#x9970;&#x7684;&#x53D8;&#x91CF;&#x53D8;&#x6210;&#x4E86;<strong>&#x5BF9;&#x8C61;</strong></li>
</ul>
<pre><code class="lang-objective-c">__block int value = 2;
value = 4;
// &#x7F16;&#x8BD1;&#x6210;&#x5BF9;&#x8C61;
struct __Block_byref_value_0 {
  void *__isa; // isa&#x6307;&#x9488;
__Block_byref_value_0 *__forwarding; // &#x6808;&#x4E0A;&#x7684;&#x6307;&#x5411;&#x81EA;&#x5DF1;
 int __flags;
 int __size;
 int value; // &#x503C;
};
// &#x6808;&#x4E0A;&#x7684;&#x901A;&#x8FC7;forwarding&#x6307;&#x9488;&#x627E;&#x81EA;&#x5DF1;&#x6539;&#x53D8;&#x503C;
(value.__forwarding-&gt;value) = 4;
</code></pre>
<h4 id="block&#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;">Block&#x7684;&#x5185;&#x5B58;&#x7BA1;&#x7406;</h4>
<p>Block&#x7684;Copy&#x64CD;&#x4F5C;</p>
<table>
<thead>
<tr>
<th style="text-align:center">Block&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x6E90;</th>
<th style="text-align:center">Copy&#x7ED3;&#x679C;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">__NSConcreteStackBlock</td>
<td style="text-align:center">&#x6808;</td>
<td style="text-align:center">&#x5806;</td>
</tr>
<tr>
<td style="text-align:center">__NSConcreteGlobalBlock</td>
<td style="text-align:center">&#x6570;&#x636E;&#x533A;</td>
<td style="text-align:center">&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x505A;</td>
</tr>
<tr>
<td style="text-align:center">__NSConcreteMallocBlock</td>
<td style="text-align:center">&#x5806;</td>
<td style="text-align:center">&#x5F15;&#x7528;&#x8BA1;&#x6570;+1</td>
</tr>
</tbody>
</table>
<p>&#x6808;Block copy&#x540E;Block&#x53CA;&#x5176;<strong>__block</strong>&#x4FEE;&#x9970;&#x7684;&#x53D8;&#x91CF;&#x90FD;&#x4F1A;&#x5728;&#x5806;&#x4E0A;&#x590D;&#x5236;&#x4E00;&#x4EFD;&#xFF0C;&#x5E76;&#x4E14;&#x6808;&#x4E0A;<strong>__block</strong>&#x4E2D;<strong>fowarding</strong>&#x6307;&#x9488;&#x6307;&#x5411;&#x5806;__block&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x65E0;&#x8BBA;&#x600E;&#x4E48;&#x64CD;&#x4F5C;&#x8BBF;&#x95EE;&#x7684;&#x53D8;&#x91CF;&#x662F;&#x540C;&#x4E00;&#x4E2A;</p>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCEed50cb184a3bd914979090f6048537d4/13342" alt="image"></p>
<h3 id="&#x7B2C;8&#x7AE0;-&#x591A;&#x7EBF;&#x7A0B;">&#x7B2C;8&#x7AE0; &#x591A;&#x7EBF;&#x7A0B;</h3>
<div class="mermaid">
graph LR
    A(&#x591A;&#x7EBF;&#x7A0B;) --&gt; B[GCD]
    A --&gt; C[NSOperation]
    A --&gt; D[NSThread]
    A --&gt; E[&#x591A;&#x7EBF;&#x7A0B;&#x4E0E;&#x9501;]
</div>

<h4 id="gcd">GCD</h4>
<h5 id="&#x540C;&#x6B65;&#x5F02;&#x6B65;-&#x548C;-&#x4E32;&#x884C;&#x5E76;&#x53D1;">&#x540C;&#x6B65;/&#x5F02;&#x6B65; &#x548C; &#x4E32;&#x884C;/&#x5E76;&#x53D1;</h5>
<h4 id="nsoperation">NSOperation</h4>
<p>&#x9700;&#x8981;&#x548C;NSOpertaionQueue&#x914D;&#x5408;&#x4F7F;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x65B9;&#x6848;&#xFF0C;&#x76F8;&#x6BD4;GCD&#x6709;&#x4EE5;&#x4E0B;&#x4F18;&#x52BF;</p>
<ul>
<li>&#x6DFB;&#x52A0;&#x4EFB;&#x52A1;&#x4F9D;&#x8D56;</li>
<li><strong>&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x72B6;&#x6001;&#x63A7;&#x5236;</strong></li>
<li>&#x6700;&#x5927;&#x5E76;&#x53D1;&#x91CF;</li>
</ul>
<h5 id="&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x72B6;&#x6001;">&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x72B6;&#x6001;</h5>
<ul>
<li>isReady</li>
<li>isExecuting</li>
<li>isFinished</li>
<li>isCancelled</li>
</ul>
<blockquote>
<p> NSOperationQueueDefaultMaxConcurrentOperationCount
This number is determined dynamically based on current system conditions.</p>
</blockquote>
<h5 id="&#x72B6;&#x6001;&#x63A7;&#x5236;">&#x72B6;&#x6001;&#x63A7;&#x5236;</h5>
<ul>
<li>&#x5982;&#x679C;&#x53EA;&#x91CD;&#x5199;&#x4E86;<strong>main</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x5E95;&#x5C42;&#x63A7;&#x5236;&#x53D8;&#x66F4;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x3001;&#x5B8C;&#x6210;&#x4EE5;&#x53CA;&#x9000;&#x51FA;&#x72B6;&#x6001;</li>
<li>&#x5982;&#x679C;&#x91CD;&#x5199;&#x4E86;<strong>start</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x81EA;&#x884C;&#x63A7;&#x5236;&#x4EFB;&#x52A1;&#x72B6;&#x6001;</li>
</ul>
<blockquote>
<p>GNUstep&#x53FC;&#x53FC;&#x53FC;</p>
</blockquote>
<h4 id="nsthread">NSThread</h4>
<p>&#x5982;&#x4F55;&#x5E38;&#x4F4F;&#x7EBF;&#x7A0B;</p>
<h4 id="&#x9501;">&#x9501;</h4>
<p><a href="https://cloud.tencent.com/developer/article/1505582" target="_blank">&#x8C08;&#x4E00;&#x8C08; iOS &#x7684;&#x9501;</a></p>
<ul>
<li><p>pthread_mutex</p>
<p>&#x4E0D;&#x662F;&#x4F7F;&#x7528;&#x5FD9;&#x7B49;&#xFF0C;&#x800C;&#x662F;&#x540C;&#x4FE1;&#x53F7;&#x91CF;&#x4E00;&#x6837;&#xFF0C;&#x4F1A;&#x963B;&#x585E;&#x7EBF;&#x7A0B;&#x5E76;&#x8FDB;&#x884C;&#x7B49;&#x5F85;&#xFF0C;&#x8C03;&#x7528;&#x65F6;&#x8FDB;&#x884C;&#x7EBF;&#x7A0B;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x3002;</p>
<p><code>pthread_mutex</code>&#x672C;&#x8EAB;&#x62E5;&#x6709;&#x8BBE;&#x7F6E;&#x534F;&#x8BAE;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x5B83;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x6765;&#x89E3;&#x51B3;&#x4F18;&#x5148;&#x7EA7;&#x53CD;&#x8F6C;</p>
</li>
<li><p><a href="https://juejin.im/post/5e66eea4f265da57375c5181" target="_blank">@synchronized&#xFF08;objc_sync_enter/objc_sync_exit/recursive_mutex_t&#x9012;&#x5F52;&#x9501;/SyncData&#xFF09;</a></p>
<p>&#x4E00;&#x822C;&#x5728;&#x521B;&#x5EFA;&#x5355;&#x4F8B;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;</p>
<p>&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5C31;&#x662F; <code>@synchonized(self)</code>. &#x4E0D;&#x5C11;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x76F4;&#x63A5;&#x5C06;self&#x4F20;&#x5165;@synchronized&#x5F53;&#x4E2D;&#xFF0C;&#x800C; <code>self</code> &#x5F88;&#x5BB9;&#x6613;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x5BF9;&#x8C61;&#xFF0C;&#x88AB;&#x8C03;&#x7528;&#x548C;&#x4FEE;&#x6539;&#x3002;&#x6240;&#x4EE5;&#x5B83;&#x548C;&#x4E0A;&#x9762;&#x662F;&#x4E00;&#x6837;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x9700;&#x8981;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x3002;
&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;obj &#x5E94;&#x5F53;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x7C7B;&#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x7684;<code>NSObject</code>&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x5BF9;&#x5916;&#x4E0D;&#x53EF;&#x89C1;&#x7684;,&#x4E0D;&#x88AB;&#x968F;&#x4FBF;&#x4FEE;&#x6539;&#x7684;&#x3002;@synchronized&#x4E0D;&#x80FD;&#x9501;<strong>nil</strong>&#x5BF9;&#x8C61;</p>
</li>
<li><p>atomic</p>
<p>&#x4FEE;&#x9970;&#x5C5E;&#x6027;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5BF9;&#x88AB;&#x4FEE;&#x9970;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF08;&#x4E0D;&#x8D1F;&#x8D23;&#x4F7F;&#x7528;&#xFF09;</p>
</li>
<li><p>OSSpinLock&#xFF08;spinlock_t&#x81EA;&#x65CB;&#x9501;&#xFF09;</p>
<p><strong>&#x5FAA;&#x73AF;&#x7B49;&#x5F85;</strong>&#x8BBF;&#x95EE;&#xFF0C;&#x4E0D;&#x91CA;&#x653E;&#x5F53;&#x524D;&#x8D44;&#x6E90;&#xFF0C;&#x7528;&#x4E8E;&#x8F7B;&#x91CF;&#x7EA7;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#xFF0C;&#x7B80;&#x5355;&#x7684;int&#x503C;+1/-1&#x64CD;&#x4F5C;</p>
</li>
<li><p>NSRecusiveLock&#xFF08;recursive_mutex_t&#x9012;&#x5F52;&#x9501;&#xFF09;</p>
</li>
<li><p>NSLock</p>
<p>&#x5806;pthread_mutex&#x7684;&#x5C01;&#x88C5;&#x7684;&#x4E92;&#x65A5;&#x9501;</p>
</li>
<li><p>NSCondition</p>
</li>
<li><p>dispatch_semaphore_t</p>
</li>
</ul>
<h4 id="dispatchsemaphoret">dispatch_semaphore_t</h4>
<h5 id="dispatchsemaphorecreate">dispatch_semaphore_create</h5>
<pre><code class="lang-objective-c">struct dispatch_semaphore_s {
  void *do_ctxt; \
  void *do_finalizer
  long volatile dsema_value;
  long dsema_orig;
  _dispatch_sema4_t dsema_sema;
  // DISPATCH_OBJECT_HEADER(semaphore);
  struct _os_object_s _as_os_obj[0];
  OS_OBJECT_STRUCT_HEADER(dispatch_##x);
  struct dispatch_##x##_s *volatile do_next;
  struct dispatch_queue_s *do_targetq;
};

dispatch_semaphore_t
dispatch_semaphore_create(long value)
{
  dispatch_semaphore_t dsema;

  // If the internal value is negative, then the absolute of the value is
  // equal to the number of waiting threads. Therefore it is bogus to
  // initialize the semaphore with a negative value.
  if (value &lt; 0) {
      return DISPATCH_BAD_INPUT;
  }
  // &#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;vtable&#x3002;vtable&#x662F;&#x865A;&#x51FD;&#x6570;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x65B9;&#x5F0F;&#x6765;&#x5FEB;&#x901F;&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x3002;&#x76F8;&#x6BD4;&#x4E8E;OC&#x7684;&#x65B9;&#x6CD5;&#x67E5;&#x627E;&#xFF0C;vtable&#x7684;&#x65B9;&#x5F0F;&#x4F1A;&#x6709;&#x6781;&#x5927;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x3002;
  dsema = _dispatch_object_alloc(DISPATCH_VTABLE(semaphore),
  sizeof(struct dispatch_semaphore_s));
  dsema-&gt;do_next = DISPATCH_OBJECT_LISTLESS; // 
  dsema-&gt;do_targetq = _dispatch_get_default_queue(false); // &#x76EE;&#x6807;&#x961F;&#x5217;
  dsema-&gt;dsema_value = value; // &#x5F53;&#x524D;&#x503C;
  _dispatch_sema4_init(&amp;dsema-&gt;dsema_sema, _DSEMA4_POLICY_FIFO); 
  dsema-&gt;dsema_orig = value; // &#x539F;&#x59CB;&#x503C;
  return dsema;
}
</code></pre>
<h5 id="dispatchsemaphorewait">dispatch_semaphore_wait</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="1325.828125" version="1.1" width="1194.068359375" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1194.068359375 1325.828125" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj26" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj27" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj28" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj30" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj32" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj33" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj35" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj37" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj38" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj40" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj42" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj43" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj44" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj45" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj46" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj48" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="182.546875" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,118.5313,40.248)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,118.5313,40.248)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">dispatch_semaphore_wait</tspan></text><rect x="0" y="0" width="112.546875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="B" transform="matrix(1,0,0,1,153.5313,166.1211)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,153.5313,166.1211)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">--dsema_value</tspan></text><path fill="#ffffff" stroke="#000000" d="M29.77734375,14.888671875L0,29.77734375L59.5546875,59.5546875L119.109375,29.77734375L59.5546875,0L0,29.77734375" stroke-width="3" id="C" class="flowchart" transform="matrix(1,0,0,1,150.25,280.0293)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="34.77734375" y="29.77734375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,150.25,280.0293)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.86328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">value&lt;0</tspan></text><rect x="0" y="0" width="331.03125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="D" transform="matrix(1,0,0,1,44.2891,429.832)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,44.2891,429.832)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_semaphore_wait_slow(dsema, timeout)</tspan></text><path fill="#ffffff" stroke="#000000" d="M44.203125,22.1015625L0,44.203125L88.40625,88.40625L176.8125,44.203125L88.40625,0L0,44.203125" stroke-width="3" id="E" class="flowchart" transform="matrix(1,0,0,1,121.3984,529.3145)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="49.203125" y="44.203125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,121.3984,529.3145)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">timeout==now</tspan></text><rect x="0" y="0" width="165.34375" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="I" transform="matrix(1,0,0,1,781.3086,555.7051)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="It" class="flowchartt" transform="matrix(1,0,0,1,781.3086,555.7051)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_DSEMA4_TIMEOUT()</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="ZZ" transform="matrix(1,0,0,1,185.8047,1287.2031)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="ZZt" class="flowchartt" transform="matrix(1,0,0,1,185.8047,1287.2031)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><path fill="#ffffff" stroke="#000000" d="M50.900390625,25.4501953125L0,50.900390625L101.80078125,101.80078125L203.6015625,50.900390625L101.80078125,0L0,50.900390625" stroke-width="3" id="F" class="flowchart" transform="matrix(1,0,0,1,108.0039,674.8809)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="55.900390625" y="50.900390625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,108.0039,674.8809)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.861328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">timeout==forever</tspan></text><rect x="0" y="0" width="319.796875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,411.5117,707.9688)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,411.5117,707.9688)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_sema4_wait(&amp;dsema-&gt;dsema_sema)</tspan></text><rect x="0" y="0" width="231.0625" height="52.4375" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="H" transform="matrix(1,0,0,1,455.8789,825.4355)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="26.21875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ht" class="flowchartt" transform="matrix(1,0,0,1,455.8789,825.4355)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">do { kr = semaphore_wait(*sema) </tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">} while (kr == KERN_ABORTED)</tspan></text><rect x="0" y="0" width="407.609375" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="J" transform="matrix(1,0,0,1,6,866.9297)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Jt" class="flowchartt" transform="matrix(1,0,0,1,6,866.9297)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_sema4_timedwait(&amp;dsema-&gt;dsema_sema, timeout)</tspan></text><rect x="0" y="0" width="326.65625" height="52.4375" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="K" transform="matrix(1,0,0,1,46.4766,984.3965)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="26.21875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Kt" class="flowchartt" transform="matrix(1,0,0,1,46.4766,984.3965)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">do { kr = semaphore_timedwait(*sema, _timeout);</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">} while (unlikely(kr == KERN_ABORTED))</tspan></text><path fill="#ffffff" stroke="#000000" d="M52.060546875,26.0302734375L0,52.060546875L104.12109375,104.12109375L208.2421875,52.060546875L104.12109375,0L0,52.060546875" stroke-width="3" id="L" class="flowchart" transform="matrix(1,0,0,1,105.6836,1092.834)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="57.060546875" y="52.060546875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Lt" class="flowchartt" transform="matrix(1,0,0,1,105.6836,1092.834)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.865234375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">kr==TIMED_OUT</tspan></text><path fill="none" stroke="#000000" d="M209.8046875,75.873046875C209.8046875,75.873046875,209.8046875,143.3592554065399,209.8046875,161.61480205032558" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj26)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M209.8046875,201.74609375C209.8046875,201.74609375,209.8046875,258.87245691672433,209.8046875,275.5250149296806" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj27)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M209.8046875,339.583984375C209.8046875,339.583984375,209.8046875,407.0701929065399,209.8046875,425.3257395503256" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj28)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="214.8046875" y="349.583984375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.857421875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M269.359375,309.806640625C269.359375,309.806640625,294.359375,309.806640625,294.359375,309.806640625C294.359375,309.806640625,294.359375,1262.203125,294.359375,1262.203125C294.359375,1262.203125,209.8046875,1262.203125,209.8046875,1262.203125C209.8046875,1262.203125,209.8046875,1275.5070962905884,209.8046875,1282.704752633348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj30)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="274.359375" y="299.806640625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.861328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M209.8046875,465.45703125C209.8046875,465.45703125,209.8046875,510.2888175174594,209.8046875,524.8241232213622" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj32)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M298.2109375,573.517578125C298.2109375,573.517578125,728.0212859917083,573.517578125,776.8156736988968,573.517578125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj33)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="303.2109375" y="563.517578125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M209.8046875,617.720703125C209.8046875,617.720703125,209.8046875,656.8744120383635,209.8046875,670.3717355211929" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj35)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="214.8046875" y="627.720703125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M863.98046875,591.330078125C863.98046875,591.330078125,863.98046875,1262.203125,863.98046875,1262.203125C863.98046875,1262.203125,209.8046875,1262.203125,209.8046875,1262.203125C209.8046875,1262.203125,209.8046875,1275.5070962905884,209.8046875,1282.704752633348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj37)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M311.60546875,725.78125C311.60546875,725.78125,387.54229856468737,725.78125,407.0085269107376,725.78125" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj38)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="316.60546875" y="715.78125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M209.8046875,776.681640625C209.8046875,776.681640625,209.8046875,844.1678491565399,209.8046875,862.4233958003256" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj40)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="214.8046875" y="786.681640625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.861328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M571.41015625,743.59375C571.41015625,743.59375,571.41015625,803.7958387433318,571.41015625,820.9334450604034" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj42)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M571.41015625,877.873046875C571.41015625,877.873046875,571.41015625,1262.203125,571.41015625,1262.203125C571.41015625,1262.203125,209.8046875,1262.203125,209.8046875,1262.203125C209.8046875,1262.203125,209.8046875,1275.5070962905884,209.8046875,1282.704752633348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj43)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M209.8046875,902.5546875C209.8046875,902.5546875,209.8046875,962.7567762433318,209.8046875,979.8943825604034" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj44)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M209.8046875,1036.833984375C209.8046875,1036.833984375,209.8046875,1075.03475522995,209.8046875,1088.3341446926352" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj45)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M209.8046875,1196.955078125C209.8046875,1196.955078125,209.8046875,1264.44128665654,209.8046875,1282.6968333003256" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj46)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="214.8046875" y="1206.955078125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.853515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M313.92578125,1144.89453125C313.92578125,1144.89453125,338.92578125,1144.89453125,338.92578125,1144.89453125C338.92578125,1144.89453125,338.92578125,1262.203125,338.92578125,1262.203125C338.92578125,1262.203125,209.8046875,1262.203125,209.8046875,1262.203125C209.8046875,1262.203125,209.8046875,1275.5070962905884,209.8046875,1282.704752633348" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj48)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="318.92578125" y="1134.89453125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text></svg></div></p>
<h5 id="dispatchsemaphoresignal">dispatch_semaphore_signal</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="714.609375" version="1.1" width="298.109375" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 298.109375 714.609375" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj14" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj15" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj16" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj18" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj20" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj21" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="194.234375" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,53.4375,21.0293)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,53.4375,21.0293)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">dispatch_semaphore_signal</tspan></text><rect x="0" y="0" width="119.578125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="B" transform="matrix(1,0,0,1,90.7656,127.6836)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,90.7656,127.6836)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">++dsema_value</tspan></text><path fill="#ffffff" stroke="#000000" d="M32.841796875,16.4208984375L0,32.841796875L65.68359375,65.68359375L131.3671875,32.841796875L65.68359375,0L0,32.841796875" stroke-width="3" id="C" class="flowchart" transform="matrix(1,0,0,1,84.8711,219.3086)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="37.841796875" y="32.841796875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,84.8711,219.3086)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.865234375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">value&lt;=0</tspan></text><rect x="0" y="0" width="289.109375" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="D" transform="matrix(1,0,0,1,6,356.0215)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,6,356.0215)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_semaphore_signal_slow(dsema)</tspan></text><rect x="0" y="0" width="174.015625" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="E" transform="matrix(1,0,0,1,63.5469,462.6758)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,63.5469,462.6758)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_sema4_signal</tspan></text><rect x="0" y="0" width="226.875" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,37.1172,569.3301)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,37.1172,569.3301)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x901A;&#x8FC7;wait&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x5524;&#x9192;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,126.5547,675.9844)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,126.5547,675.9844)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><path fill="none" stroke="#000000" d="M150.5546875,56.654296875C150.5546875,56.654296875,150.5546875,107.57281984202564,150.5546875,123.18650754871123" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj14)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M150.5546875,163.30859375C150.5546875,163.30859375,150.5546875,201.50936460494995,150.5546875,214.80875406763516" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj15)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M150.5546875,284.9921875C150.5546875,284.9921875,150.5546875,335.91071046702564,150.5546875,351.52439817371123" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj16)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="155.5546875" y="294.9921875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M216.23828125,252.150390625C216.23828125,252.150390625,241.23828125,252.150390625,241.23828125,252.150390625C241.23828125,252.150390625,241.23828125,650.984375,241.23828125,650.984375C241.23828125,650.984375,150.5546875,650.984375,150.5546875,650.984375C150.5546875,650.984375,150.5546875,664.2883462905884,150.5546875,671.4860026333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj18)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="221.23828125" y="242.150390625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.861328125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M150.5546875,391.646484375C150.5546875,391.646484375,150.5546875,442.56500734202564,150.5546875,458.17869504871123" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj20)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M150.5546875,498.30078125C150.5546875,498.30078125,150.5546875,549.2193042170256,150.5546875,564.8329919237112" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj21)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M150.5546875,604.955078125C150.5546875,604.955078125,150.5546875,655.8736010920256,150.5546875,671.4872887987112" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h5 id="dispatchsemaphoredispose">_dispatch_semaphore_dispose</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="flowchart"><svg height="696.75390625" version="1.1" width="646.2421875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 646.2421875 696.75390625" preserveaspectratio="xMidYMid meet" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj14" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj15" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj17" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj19" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj20" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj21" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj22" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="213.6875" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="A" transform="matrix(1,0,0,1,65.8203,33.7148)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="At" class="flowchartt" transform="matrix(1,0,0,1,65.8203,33.7148)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_semaphore_dispose</tspan></text><path fill="#ffffff" stroke="#000000" d="M45.52734375,22.763671875L0,45.52734375L91.0546875,91.0546875L182.109375,45.52734375L91.0546875,0L0,45.52734375" stroke-width="3" id="B" class="flowchart" transform="matrix(1,0,0,1,81.6094,125.3398)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="50.52734375" y="45.52734375" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Bt" class="flowchartt" transform="matrix(1,0,0,1,81.6094,125.3398)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.53515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">dsema_value&lt;</tspan><tspan dy="16.8" x="50.52734375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">dsema_orig</tspan></text><rect x="0" y="0" width="244" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="F" transform="matrix(1,0,0,1,364.3828,153.0547)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ft" class="flowchartt" transform="matrix(1,0,0,1,364.3828,153.0547)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x5F02;&#x5E38;&#xFF0C;&#x8FD8;&#x6709;&#x4FE1;&#x53F7;&#x91CF;&#x5728;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x91CA;&#x653E;</tspan></text><rect x="0" y="0" width="48" height="35.625" rx="20" ry="20" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="G" transform="matrix(1,0,0,1,148.6641,658.1289)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Gt" class="flowchartt" transform="matrix(1,0,0,1,148.6641,658.1289)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x7ED3;&#x675F;</tspan></text><rect x="0" y="0" width="272.75" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="C" transform="matrix(1,0,0,1,36.2891,300.1094)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Ct" class="flowchartt" transform="matrix(1,0,0,1,36.2891,300.1094)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_sema4_dispose(sema, policy)</tspan></text><rect x="0" y="0" width="308.53125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="D" transform="matrix(1,0,0,1,18.3984,419.4492)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Dt" class="flowchartt" transform="matrix(1,0,0,1,18.3984,419.4492)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">_dispatch_sema4_dispose_slow(sema, policy)</tspan></text><rect x="0" y="0" width="333.328125" height="35.625" rx="0" ry="0" fill="#ffffff" stroke="#000000" stroke-width="3" class="flowchart" id="E" transform="matrix(1,0,0,1,6,538.7891)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="10" y="17.8125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" id="Et" class="flowchartt" transform="matrix(1,0,0,1,6,538.7891)" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">semaphore_destroy(mach_task_self(), sema_port)</tspan></text><path fill="none" stroke="#000000" d="M172.6640625,69.33984375C172.6640625,69.33984375,172.6640625,107.54061460494995,172.6640625,120.84000406763516" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj14)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M263.71875,170.8671875C263.71875,170.8671875,340.3173072547652,170.8671875,359.87836460058656,170.8671875" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj15)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="268.71875" y="160.8671875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M172.6640625,216.39453125C172.6640625,216.39453125,172.6640625,278.2200689315796,172.6640625,295.60850140452385" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj17)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="177.6640625" y="226.39453125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#000000" stroke-width="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.85546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M486.3828125,188.6796875C486.3828125,188.6796875,486.3828125,633.12890625,486.3828125,633.12890625C486.3828125,633.12890625,172.6640625,633.12890625,172.6640625,633.12890625C172.6640625,633.12890625,172.6640625,646.4328775405884,172.6640625,653.6305338833481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj19)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M172.6640625,335.734375C172.6640625,335.734375,172.6640625,397.5599126815796,172.6640625,414.94834515452385" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj20)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M172.6640625,455.07421875C172.6640625,455.07421875,172.6640625,516.8997564315796,172.6640625,534.2881889045238" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj21)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M172.6640625,574.4140625C172.6640625,574.4140625,172.6640625,636.2396001815796,172.6640625,653.6280326545238" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj22)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<pre><code class="lang-objective-c">dispatch_semaphore_t sema = dispatch_semaphore_create(1);
dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER);
// &#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x5C31;&#x4F1A;&#x5D29;&#x6E83;&#xFF0C;&#x56E0;&#x4E3A;&#x8D4B;&#x503C;&#x4E86;&#x65B0;&#x7684;&#x4FE1;&#x53F7;&#x91CF;&#xFF0C;&#x800C;&#x65E7;&#x7684;&#x5728;&#x4F7F;&#x7528;&#x5C31;&#x88AB;&#x91CA;&#x653E;&#x4E86;
sema = dispatch_semaphore_create(1);
</code></pre>
<h4 id="&#x5176;&#x5B83;&#x4FDD;&#x8BC1;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x65B9;&#x5F0F;">&#x5176;&#x5B83;&#x4FDD;&#x8BC1;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x65B9;&#x5F0F;</h4>
<ul>
<li><p>&#x4F7F;&#x7528;&#x5355;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;</p>
<p>&#x9996;&#x5148;&#xFF0C;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x8BBE;&#x8BA1;&#x3002;&#x56E0;&#x4E3A;&#x591A;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#x4F1A;&#x51FA;&#x73B0;&#x5F88;&#x591A;&#x4E0D;&#x53EF;&#x63A7;&#x5236;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x6709;&#x4E9B;&#x60C5;&#x51B5;&#x5373;&#x4F7F;&#x4E0A;&#x9501;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x767E;&#x5206;&#x4E4B;&#x767E;&#x7684;&#x5B89;&#x5168;&#xFF0C;&#x4F8B;&#x5982;&#x81EA;&#x65CB;&#x9501;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
</li>
<li><p>&#x4E0D;&#x5BF9;&#x8D44;&#x6E90;&#x505A;&#x4FEE;&#x6539;</p>
</li>
</ul>
<h3 id="&#x7B2C;9&#x7AE0;-runloop">&#x7B2C;9&#x7AE0; RunLoop</h3>
<p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW1" target="_blank">RunLoop</a></p>
<p>Runloop&#x662F;&#x901A;&#x8FC7;&#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x7684;<strong>&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</strong>&#x6765;&#x5BF9;<strong>&#x4E8B;&#x4EF6;&amp;&#x6D88;&#x606F;</strong>&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x6CA1;&#x6709;&#x6D88;&#x606F;&#x9700;&#x8981;&#x5904;&#x7406;&#x65F6;&#xFF0C;&#x4F11;&#x7720;&#x4EE5;&#x514D;&#x8D44;&#x6E90;&#x5360;&#x7528;&#xFF1B;&#x6709;&#x6D88;&#x606F;&#x5904;&#x65F6;&#xFF0C;&#x7ACB;&#x523B;&#x88AB;&#x5524;&#x9192;&#x3002;</p>
<blockquote>
<p>Run loops are part of the fundamental infrastructure associated with threads. A <em>run loop</em> is an event processing loop that you use to schedule work and coordinate the receipt of incoming events. The purpose of a run loop is to keep your thread busy when there is work to do and put your thread to sleep when there is none.</p>
<p>A run loop receives events from two different types of sources. <em>Input sources</em> deliver asynchronous events, usually messages from another thread or from a different application. <em>Timer sources</em> deliver synchronous events, occurring at a scheduled time or repeating interval. Both types of source use an application-specific handler routine to process the event when it arrives.</p>
</blockquote>
<p><img src="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/Art/runloop.jpg" alt="image"></p>
<h4 id="input-sources">Input Sources</h4>
<p>source&#x6709;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7684;</p>
<ul>
<li>Port-based input sources monitor your application&#x2019;s Mach ports.&#xFF08;asynchronous&#xFF0C;&#x5F02;&#x6B65;&#x7684;&#xFF09;</li>
<li>Custom input sources monitor custom sources of events.&#xFF08;synchronous&#xFF0C;&#x540C;&#x6B65;&#x7684;&#xFF09;</li>
</ul>
<blockquote>
<p>Port-based sources are signaled automatically by the kernel, and custom sources must be signaled manually from another thread.</p>
</blockquote>
<ul>
<li>Port-Based Sources&#xFF08;&#x57FA;&#x4E8E;<strong>&#x7AEF;&#x53E3;</strong>&#x7684;&#x4E8B;&#x4EF6;&#x6E90;&#xFF0C;&#x7531;&#x5185;&#x6838;&#x5206;&#x53D1;&#xFF09;</li>
<li>Custom Input Sources&#xFF08;<strong>&#x81EA;&#x5B9A;&#x4E49;</strong>&#x7684;&#x4E8B;&#x4EF6;&#x6E90;&#xFF0C;&#x5FC5;&#x987B;&#x7531;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5206;&#x53D1;&#xFF09;</li>
<li>Cocoa Perform Selector Sources&#xFF08;Cocoa<strong>&#x81EA;&#x5B9A;&#x4E49;</strong>&#x7684;&#x6267;&#x884C;&#x9009;&#x62E9;&#x5668;&#x7684;&#x4E8B;&#x4EF6;&#x6E90;&#xFF09;<ol>
<li>&#x6267;&#x884C;&#x9009;&#x62E9;&#x5668;&#x7684;&#x4E8B;&#x4EF6;&#x6E90;&#x4F1A;&#x5728;&#x9009;&#x62E9;&#x5668;&#x6267;&#x884C;&#x540E;&#x81EA;&#x52A8;&#x5220;&#x9664;</li>
<li>&#x5728;App&#x6267;&#x884C;&#x5230;<strong>applicationDidFinishLaunching:</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x53D1;&#x51FA;&#x8BE5;&#x4E8B;&#x4EF6;</li>
</ol>
</li>
</ul>
<h4 id="timer-sources">Timer Sources</h4>
<h4 id="the-run-loop-sequence-of-events">The Run Loop Sequence of Events</h4>
<ol>
<li>Notify observers that the run loop has been entered.</li>
<li>Notify observers that any ready timers are about to fire.</li>
<li>Notify observers that any input sources that are not port based are about to fire.</li>
<li>Fire any non-port-based input sources that are ready to fire.</li>
<li>If a port-based input source is ready and waiting to fire, process the event immediately. Go to step 9.</li>
<li>Notify observers that the thread is about to sleep.</li>
<li>Put the thread to sleep until one of the following events occurs:<ul>
<li>An event arrives for a port-based input source.</li>
<li>A timer fires.</li>
<li>The timeout value set for the run loop expires.</li>
<li>The run loop is explicitly woken up.</li>
</ul>
</li>
<li>Notify observers that the thread just woke up.</li>
<li>Process the pending event.<ul>
<li>If a user-defined timer fired, process the timer event and restart the loop. Go to step 2.</li>
<li>If an input source fired, deliver the event.</li>
<li>If the run loop was explicitly woken up but has not yet timed out, restart the loop. Go to step 2.</li>
</ul>
</li>
<li>Notify observers that the run loop has exited.</li>
</ol>
<h4 id="when-would-you-use-a-run-loop">When Would You Use a Run Loop?</h4>
<p>&#x53EA;&#x6709;&#x5728;&#x7B2C;&#x4E8C;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x624D;&#x9700;<strong>Runloop</strong></p>
<blockquote>
<p>The only time you need to run a run loop explicitly is when you create secondary threads for your application.</p>
</blockquote>
<p>&#x5BF9;&#x4E8E;&#x7B2C;&#x4E8C;&#x7EBF;&#x7A0B;&#x63A8;&#x8350;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x4F7F;&#x7528;<strong>Runloop</strong></p>
<ul>
<li>Use ports or custom input sources to communicates with other thread</li>
<li>User timer on the thread</li>
<li>Use any of the performSelector... method</li>
<li>Keep the thread around to perfom periodic task</li>
</ul>
<h4 id="configuring-run-loop-sources">Configuring Run Loop Sources</h4>
<p><img src="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/Art/custominputsource.jpg" alt="image"></p>
<ul>
<li>The information you want your input source to process.&#xFF08;&#x4F20;&#x9012;&#x7684;&#x6D88;&#x606F;&#xFF09;</li>
<li>A scheduler routine to let interested clients know how to contact your input source.&#xFF08;&#x8BA2;&#x9605;Source&#x7684;&#x56DE;&#x8C03;&#xFF09;</li>
<li>A handler routine to perform requests sent by any clients.&#xFF08;&#x6536;&#x5230;&#x6D88;&#x606F;&#x7684;&#x56DE;&#x8C03;&#xFF09;</li>
<li>A cancellation routine to invalidate your input source.&#xFF08;&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x7684;&#x56DE;&#x8C03;&#xFF09;</li>
</ul>
<h3 id="&#x7B2C;10&#x7AE0;-&#x7F51;&#x7EDC;">&#x7B2C;10&#x7AE0; &#x7F51;&#x7EDC;</h3>
<p><img src="https://image.fundebug.com/2019-03-21-01.png" alt="image"></p>
<h4 id="http&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;">HTTP&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;</h4>
<table>
<thead>
<tr>
<th style="text-align:center">&#x65B9;&#x6CD5;&#x540D;</th>
<th style="text-align:center">&#x4F5C;&#x7528;</th>
<th style="text-align:center">&#x5B89;&#x5168;&#x6027;</th>
<th style="text-align:center">&#x5E42;&#x7B49;&#x6027;</th>
<th style="text-align:center">&#x53EF;&#x7F13;&#x5B58;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">GET</td>
<td style="text-align:center">&#x83B7;&#x53D6;&#x8D44;&#x6E90;</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">POST</td>
<td style="text-align:center">&#x5904;&#x7406;&#x8D44;&#x6E90;</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
</tr>
<tr>
<td style="text-align:center">PUT</td>
<td style="text-align:center">&#x66F4;&#x65B0;&#x8D44;&#x6E90;</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">NO</td>
</tr>
<tr>
<td style="text-align:center">DELETE</td>
<td style="text-align:center">&#x5220;&#x9664;&#x8D44;&#x6E90;</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">NO</td>
</tr>
<tr>
<td style="text-align:center">HEAD</td>
<td style="text-align:center">&#x7C7B;&#x4F3C;&#x4E8E;GET&#x8BF7;&#x6C42;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x4E2D;&#x6CA1;&#x6709;&#x5177;&#x4F53;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x62A5;&#x5934;</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">OPTIONS</td>
<td style="text-align:center">&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x67E5;&#x770B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6027;&#x80FD;</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">NO</td>
</tr>
</tbody>
</table>
<h4 id="&#x72B6;&#x6001;&#x7801;">&#x72B6;&#x6001;&#x7801;</h4>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5206;&#x7C7B;</th>
<th style="text-align:center">&#x63CF;&#x8FF0;</th>
<th style="text-align:center">&#x4E3E;&#x4F8B;</th>
<th style="text-align:center">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1xx</td>
<td style="text-align:center">&#x4FE1;&#x606F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#xFF0C;&#x9700;&#x8981;&#x8BF7;&#x6C42;&#x8005;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x64CD;&#x4F5C;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">2xx</td>
<td style="text-align:center">&#x6210;&#x529F;&#xFF0C;&#x64CD;&#x4F5C;&#x88AB;&#x6210;&#x529F;&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;</td>
<td style="text-align:center">200</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">3xx</td>
<td style="text-align:center">&#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x64CD;&#x4F5C;&#x4EE5;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;</td>
<td style="text-align:center">301</td>
<td style="text-align:center">&#x91CD;&#x5B9A;&#x5411;</td>
</tr>
<tr>
<td style="text-align:center">4xx</td>
<td style="text-align:center">&#x5BA2;&#x6237;&#x7AEF;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x6C42;&#x5305;&#x542B;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x6216;&#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;</td>
<td style="text-align:center">401</td>
<td style="text-align:center">&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x5931;&#x8D25;</td>
</tr>
<tr>
<td style="text-align:center">5xx</td>
<td style="text-align:center">&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5728;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x4E86;&#x9519;&#x8BEF;</td>
<td style="text-align:center">500</td>
<td style="text-align:center">&#x670D;&#x52A1;&#x5668;&#x5185;&#x90E8;&#x9519;&#x8BEF;&#xFF0C;&#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x8BF7;&#x6C42;</td>
</tr>
</tbody>
</table>
<h4 id="http&#x7684;&#x7279;&#x70B9;">HTTP&#x7684;&#x7279;&#x70B9;</h4>
<ul>
<li>&#x65E0;&#x8FDE;&#x63A5;</li>
<li>&#x65E0;&#x72B6;&#x6001;</li>
</ul>
<h5 id="&#x6301;&#x4E45;&#x8FDE;&#x63A5;">&#x6301;&#x4E45;&#x8FDE;&#x63A5;</h5>
<p>&#x5934;&#x90E8;&#x5B57;&#x6BB5;</p>
<ul>
<li>Connection&#xFF1A;keep-alive&amp;close</li>
<li>time</li>
<li>max</li>
</ul>
<p>&#x600E;&#x6837;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x7ED3;&#x675F;</p>
<ul>
<li>Content-Length</li>
<li>chunked</li>
</ul>
<h5 id="cookiesession">Cookie&amp;Session</h5>
<p>HTTP&#x534F;&#x8BAE;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x79CD;&#x8865;&#x507F;</p>
<ul>
<li>Cookie&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x7528;&#x6765;&#x533A;&#x5206;&#x7528;&#x6237;&#xFF0C;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x5BA2;&#x6237;&#x7AEF;</li>
<li>Session&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x7528;&#x6765;&#x533A;&#x5206;&#x7528;&#x6237;&#xFF0C;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x5B58;&#x653E;&#x5728;&#x670D;&#x52A1;&#x7AEF;</li>
</ul>
<h4 id="https&#x4E0E;&#x7F51;&#x7EDC;&#x5B89;&#x5168;">HTTPS&#x4E0E;&#x7F51;&#x7EDC;&#x5B89;&#x5168;</h4>
<p>HTTPS = HTTP + SSL/TLS</p>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="422" version="1.1" width="1314.625" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M6,1 1,3.5 6,6" id="raphael-marker-open" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endopen77-obj25" markerheight="7" markerwidth="7" orient="auto" refx="4" refy="3.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-open" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 3.5 3.5) scale(1,1)" stroke-width="1.0000" fill="none" stroke="#000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endopen77-obj28" markerheight="7" markerwidth="7" orient="auto" refx="4" refy="3.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-open" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 3.5 3.5) scale(1,1)" stroke-width="1.0000" fill="none" stroke="#000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endopen77-obj33" markerheight="7" markerwidth="7" orient="auto" refx="4" refy="3.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-open" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 3.5 3.5) scale(1,1)" stroke-width="1.0000" fill="none" stroke="#000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endopen77-obj36" markerheight="7" markerwidth="7" orient="auto" refx="4" refy="3.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-open" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 3.5 3.5) scale(1,1)" stroke-width="1.0000" fill="none" stroke="#000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endopen77-obj45" markerheight="7" markerwidth="7" orient="auto" refx="4" refy="3.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-open" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 3.5 3.5) scale(1,1)" stroke-width="1.0000" fill="none" stroke="#000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="414.21875" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="424.21875" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="453" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="414.21875" y="364" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="424.21875" y="374" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="453" y="383" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M453,58L453,364" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="754.0625" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="764.0625" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="792.84375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="754.0625" y="364" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="764.0625" y="374" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="792.84375" y="383" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M792.84375,58L792.84375,364" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="483.78125" y="74" width="278.28125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="622.921875" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">random A&#xFF0C;ssl version&#xFF0C;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;</tspan></text><path fill="none" stroke="#000000" d="M453,96C453,96,762.996709227562,96,790.8479760722257,96" stroke-width="2" marker-end="url(#raphael-marker-endopen77-obj25)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="510.953125" y="112" width="223.9375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="622.921875" y="121" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">random B&#xFF0C;&#x5305;&#x542B;&#x516C;&#x94A5;&#x7684;CA&#x8BC1;&#x4E66;</tspan></text><path fill="none" stroke="#000000" d="M792.84375,134C792.84375,134,482.84704077243805,134,454.9957739277743,134" stroke-width="2" marker-end="url(#raphael-marker-endopen77-obj28)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="478" y="154" width="112" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="534" y="163" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x68C0;&#x67E5;&#x8BC1;&#x4E66;&#x5408;&#x6CD5;&#x6027;</tspan></text><path fill="none" stroke="#000000" d="M453,149L473,149" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M473,149L473,182" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><path fill="none" stroke="#000000" d="M473,182C473,182,460.049560546875,182,454.99079513549805,182" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endopen77-obj33)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="463" y="188" width="319.84375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="622.921875" y="197" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">random pre-master secret&#xFF0C;&#x516C;&#x94A5;&#x52A0;&#x5BC6;C</tspan></text><path fill="none" stroke="#000000" d="M453,210C453,210,762.996709227562,210,790.8479760722257,210" stroke-width="2" marker-end="url(#raphael-marker-endopen77-obj36)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="812.84375" y="230" width="413" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="817.84375" y="235" width="403" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="1019.34375" y="244" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x4F7F;&#x7528;A&#x3001;B&#x3001;pre-master secret&#x751F;&#x6210;master secret</tspan></text><rect x="20" y="278" width="413" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="25" y="283" width="403" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="226.5" y="292" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x4F7F;&#x7528;A&#x3001;B&#x3001;pre-master secret&#x751F;&#x6210;master secret</tspan></text><rect x="544.5625" y="322" width="156.71875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="622.921875" y="331" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">master secret&#x52A0;&#x5BC6;</tspan></text><path fill="none" stroke="#000000" d="M453,344C453,344,762.996709227562,344,790.8479760722257,344" stroke-width="2" marker-end="url(#raphael-marker-endopen77-obj45)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h4 id="udp&#xFF08;&#x7528;&#x6237;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;&#xFF09;">UDP&#xFF08;&#x7528;&#x6237;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;&#xFF09;</h4>
<p>UDP&#x662F;&#x4E0D;&#x5177;&#x6709;&#x53EF;&#x9760;&#x6027;&#x7684;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;&#x3002;&#x5728;UDP&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5BF9;&#x5E94;&#x7528;&#x5C42;&#x4EA4;&#x4E0B;&#x6765;&#x7684;&#x62A5;&#x6587;&#xFF0C;&#x4E0D;&#x5408;&#x5E76;&#xFF0C;&#x4E0D;&#x62C6;&#x5206;&#xFF0C;&#x53EA;&#x662F;&#x5728;&#x5176;&#x4E0A;&#x9762;&#x52A0;&#x4E0A;&#x9996;&#x90E8;&#x540E;&#x5C31;&#x4EA4;&#x7ED9;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x7F51;&#x7EDC;&#x5C42;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x6D88;&#x606F;&#x4E00;&#x5B9A;&#x4F1A;&#x5230;&#x8FBE;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5E94;&#x7528;&#x9700;&#x8981;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x91CD;&#x53D1;&#x5904;&#x7406;</p>
<h5 id="&#x9996;&#x90E8;&#x683C;&#x5F0F;">&#x9996;&#x90E8;&#x683C;&#x5F0F;</h5>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCEc4d812ed27343d5f90304079d6e85799/13338" alt="image"></p>
<h5 id="&#x7279;&#x70B9;">&#x7279;&#x70B9;</h5>
<ul>
<li>&#x65E0;&#x8FDE;&#x63A5;</li>
<li>&#x5C3D;&#x6700;&#x5927;&#x52AA;&#x529B;&#x4EA4;&#x4ED8;</li>
<li>&#x9762;&#x5411;&#x62A5;&#x6587;</li>
</ul>
<h5 id="&#x529F;&#x80FD;">&#x529F;&#x80FD;</h5>
<ul>
<li>&#x590D;&#x7528;</li>
<li>&#x5206;&#x7528;</li>
<li>&#x5DEE;&#x9519;&#x68C0;&#x6D4B;</li>
</ul>
<h4 id="tcp&#xFF08;&#x4F20;&#x8F93;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#xFF09;">TCP&#xFF08;&#x4F20;&#x8F93;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#xFF09;</h4>
<p>TCP&#x662F;&#x9762;&#x5411;&#x8FDE;&#x63A5;&#x7684;&#x3001;&#x53EF;&#x9760;&#x7684;&#x6D41;&#x534F;&#x8BAE;&#x3002;</p>
<p>TCP&#x901A;&#x8FC7;&#x786E;&#x8BA4;&#x5E94;&#x7B54;&#x3001;&#x91CD;&#x53D1;&#x63A7;&#x5236;&#x3001;&#x8FDE;&#x63A5;&#x7BA1;&#x7406;&#x3001;&#x62E5;&#x585E;&#x63A7;&#x5236;&#x4EE5;&#x53CA;&#x7A97;&#x53E3;&#x63A7;&#x5236;&#x7B49;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x53EF;&#x9760;&#x4F20;&#x8F93;&#x3002;</p>
<h5 id="&#x9996;&#x90E8;&#x683C;&#x5F0F;">&#x9996;&#x90E8;&#x683C;&#x5F0F;</h5>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCE1932c470363d16f0b4016d86825db93b/13339" alt="image"></p>
<h5 id="&#x7279;&#x70B9;">&#x7279;&#x70B9;</h5>
<ul>
<li>&#x9762;&#x5411;&#x8FDE;&#x63A5;</li>
<li>&#x53EF;&#x9760;&#x4F20;&#x8F93;</li>
<li>&#x9762;&#x5411;&#x5B57;&#x8282;&#x6D41;</li>
<li>&#x6D41;&#x91CF;&#x63A7;&#x5236;</li>
<li>&#x62E5;&#x585E;&#x63A7;&#x5236;</li>
</ul>
<h5 id="&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x56DB;&#x6B21;&#x6325;&#x624B;">&#x4E09;&#x6B21;&#x63E1;&#x624B;&amp;&#x56DB;&#x6B21;&#x6325;&#x624B;</h5>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="958" version="1.1" width="639.6875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj37" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj43" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj49" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj58" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj61" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj64" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj70" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj79" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj85" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="116.75" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="126.75" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="155.53125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="116.75" y="900" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="126.75" y="910" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="155.53125" y="919" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M155.53125,58L155.53125,900" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="376.59375" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="386.59375" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="415.375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="376.59375" y="900" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="386.59375" y="910" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="415.375" y="919" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M415.375,58L415.375,900" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.6875" y="74" width="105.53125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">SYN=1,seq=x</tspan></text><path fill="none" stroke="#000000" d="M155.53125,96C155.53125,96,374.318237492349,96,410.37322200341725,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj37)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="48.78125" y="116" width="86.75" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="53.78125" y="121" width="76.75" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="92.15625" y="130" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">SYN_SEND</tspan></text><rect x="165.53125" y="160" width="239.84375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="169" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">SYN=1,ACK=1,seq=y,ack=x+1</tspan></text><path fill="none" stroke="#000000" d="M415.375,182C415.375,182,196.588012507651,182,160.53302799658275,182" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj43)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="435.375" y="202" width="86.75" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="440.375" y="207" width="76.75" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="478.75" y="216" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">SYN_RCVD</tspan></text><rect x="184.71875" y="246" width="201.46875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="255" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">ACK=1,seq=x+1,ack=y+1</tspan></text><path fill="none" stroke="#000000" d="M155.53125,268C155.53125,268,374.318237492349,268,410.37322200341725,268" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj49)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="20" y="288" width="115.53125" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="25" y="293" width="105.53125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="77.765625" y="302" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">ESTABLISHED</tspan></text><rect x="435.375" y="336" width="115.53125" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="440.375" y="341" width="105.53125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="493.140625" y="350" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">ESTABLISHED</tspan></text><rect x="266.265625" y="380" width="38.375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="389" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">DATA</tspan></text><path fill="none" stroke="#000000" d="M155.53125,402C155.53125,402,374.318237492349,402,410.37322200341725,402" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj58)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="266.265625" y="418" width="38.375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="427" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">DATA</tspan></text><path fill="none" stroke="#000000" d="M415.375,440C415.375,440,196.588012507651,440,160.53302799658275,440" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj61)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.6875" y="456" width="105.53125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="465" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">FIN=1,seq=u</tspan></text><path fill="none" stroke="#000000" d="M155.53125,478C155.53125,478,374.318237492349,478,410.37322200341725,478" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj64)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="39.1875" y="498" width="96.34375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="44.1875" y="503" width="86.34375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="87.359375" y="512" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">FIN_WAIT1</tspan></text><rect x="194.3125" y="542" width="182.28125" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="551" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">ACK=1,seq=v,ack=u+1</tspan></text><path fill="none" stroke="#000000" d="M415.375,564C415.375,564,196.588012507651,564,160.53302799658275,564" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj70)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="435.375" y="584" width="105.9375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="440.375" y="589" width="95.9375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="488.34375" y="598" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">CLOSE_WAIT</tspan></text><rect x="39.1875" y="632" width="96.34375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="44.1875" y="637" width="86.34375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="87.359375" y="646" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">FIN_WAIT2</tspan></text><rect x="165.53125" y="676" width="239.84375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="685" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">FIN=1,ACK=1,seq=w,ack=u+1</tspan></text><path fill="none" stroke="#000000" d="M415.375,698C415.375,698,196.588012507651,698,160.53302799658275,698" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj79)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="435.375" y="718" width="86.75" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="440.375" y="723" width="76.75" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="478.75" y="732" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">LAST_ACK</tspan></text><rect x="184.71875" y="762" width="201.46875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="285.453125" y="771" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">ACK=1,seq=u+1,ack=w+1</tspan></text><path fill="none" stroke="#000000" d="M155.53125,784C155.53125,784,374.318237492349,784,410.37322200341725,784" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj85)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="39.1875" y="804" width="96.34375" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="44.1875" y="809" width="86.34375" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="87.359375" y="818" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">TIME-WAIT</tspan></text><rect x="435.375" y="852" width="57.96875" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="440.375" y="857" width="47.96875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="464.359375" y="866" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">CLOSE</tspan></text></svg></div></p>
<h5 id="&#x53EF;&#x9760;&#x4F20;&#x8F93;">&#x53EF;&#x9760;&#x4F20;&#x8F93;</h5>
<h6 id="&#x65E0;&#x5DEE;&#x9519;&#x60C5;&#x51B5;">&#x65E0;&#x5DEE;&#x9519;&#x60C5;&#x51B5;</h6>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="364" version="1.1" width="215.125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj24" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj27" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj30" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj33" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj36" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj39" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="10" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="20" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="48.78125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="10" y="306" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="20" y="316" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="48.78125" y="325" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M48.78125,58L48.78125,306" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="107.5625" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="117.5625" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="146.34375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="107.5625" y="306" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="117.5625" y="316" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="146.34375" y="325" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M146.34375,58L146.34375,306" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="74" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M48.78125,96C48.78125,96,121.40791715681553,96,141.3376959371526,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj24)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="112" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="121" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M1</tspan></text><path fill="none" stroke="#000000" d="M146.34375,134C146.34375,134,73.71708284318447,134,53.7873040628474,134" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj27)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="150" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="159" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M2</tspan></text><path fill="none" stroke="#000000" d="M48.78125,172C48.78125,172,121.40791715681553,172,141.3376959371526,172" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj30)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="188" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="197" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M2</tspan></text><path fill="none" stroke="#000000" d="M146.34375,210C146.34375,210,73.71708284318447,210,53.7873040628474,210" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj33)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="226" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="235" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M3</tspan></text><path fill="none" stroke="#000000" d="M48.78125,248C48.78125,248,121.40791715681553,248,141.3376959371526,248" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj36)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="71.96875" y="264" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="97.5625" y="273" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M3</tspan></text><path fill="none" stroke="#000000" d="M146.34375,286C146.34375,286,73.71708284318447,286,53.7873040628474,286" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj39)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h6 id="&#x8D85;&#x65F6;&#x91CD;&#x4F20;">&#x8D85;&#x65F6;&#x91CD;&#x4F20;</h6>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="384" version="1.1" width="656.71875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj24" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj33" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj36" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj39" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="222.40625" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="222.40625" y="326" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="336" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="345" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M261.1875,58L261.1875,326" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="319.96875" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="319.96875" y="326" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="336" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="345" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M358.75,58L358.75,326" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="74" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,96C261.1875,96,333.81416715681553,96,353.7439459371526,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj24)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="378.75" y="116" width="189.1875" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="383.75" y="121" width="179.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="473.34375" y="130" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">M1&#x6709;&#x5DEE;&#x9519;&#x6216;&#x8005;&#x5F02;&#x5E38;&#x672A;&#x5230;&#x8FBE;</tspan></text><rect x="20" y="164" width="221.1875" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="25" y="169" width="211.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="130.59375" y="178" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x8D85;&#x65F6;&#x672A;&#x6536;&#x5230;M1&#x786E;&#x8BA4;&#x62A5;&#x6587;&#xFF0C;&#x91CD;&#x4F20;</tspan></text><rect x="284.375" y="208" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="217" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,230C261.1875,230,333.81416715681553,230,353.7439459371526,230" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj33)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="246" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="255" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M1</tspan></text><path fill="none" stroke="#000000" d="M358.75,268C358.75,268,286.12333284318447,268,266.1935540628474,268" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj36)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="284" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="293" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M2</tspan></text><path fill="none" stroke="#000000" d="M261.1875,306C261.1875,306,333.81416715681553,306,353.7439459371526,306" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj39)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h6 id="&#x786E;&#x8BA4;&#x4E22;&#x5931;">&#x786E;&#x8BA4;&#x4E22;&#x5931;</h6>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="336" version="1.1" width="427.53125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj23" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj29" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj32" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj35" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="222.40625" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="222.40625" y="278" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="288" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="297" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M261.1875,58L261.1875,278" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="319.96875" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="319.96875" y="278" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="288" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="297" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M358.75,58L358.75,278" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="74" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,96C261.1875,96,333.81416715681553,96,353.7439459371526,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj23)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="20" y="116" width="221.1875" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="25" y="121" width="211.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="130.59375" y="130" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x8D85;&#x65F6;&#x672A;&#x6536;&#x5230;M1&#x786E;&#x8BA4;&#x62A5;&#x6587;&#xFF0C;&#x91CD;&#x4F20;</tspan></text><rect x="284.375" y="160" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="169" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,182C261.1875,182,333.81416715681553,182,353.7439459371526,182" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj29)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="198" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="207" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M1</tspan></text><path fill="none" stroke="#000000" d="M358.75,220C358.75,220,286.12333284318447,220,266.1935540628474,220" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj32)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="236" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="245" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M2</tspan></text><path fill="none" stroke="#000000" d="M261.1875,258C261.1875,258,333.81416715681553,258,353.7439459371526,258" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj35)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></svg></div></p>
<h6 id="&#x786E;&#x8BA4;&#x8FDF;&#x5230;">&#x786E;&#x8BA4;&#x8FDF;&#x5230;</h6>
<p><div xmlns="http://www.w3.org/1999/xhtml" class="sequence"><svg height="422" version="1.1" width="427.53125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xEB;l 2.1.4</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock55-obj25" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj31" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj34" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj37" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock55-obj40" markerheight="5" markerwidth="5" orient="auto" refx="2.5" refy="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" xmlns:xlink="http://www.w3.org/1999/xlink" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="222.40625" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><rect x="222.40625" y="364" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="232.40625" y="374" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="261.1875" y="383" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Client</tspan></text><path fill="none" stroke="#000000" d="M261.1875,58L261.1875,364" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="319.96875" y="20" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="30" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><rect x="319.96875" y="364" width="77.5625" height="38" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="329.96875" y="374" width="57.5625" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="358.75" y="383" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Server</tspan></text><path fill="none" stroke="#000000" d="M358.75,58L358.75,364" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="74" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,96C261.1875,96,333.81416715681553,96,353.7439459371526,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj25)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="20" y="116" width="221.1875" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="25" y="121" width="211.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="130.59375" y="130" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x8D85;&#x65F6;&#x672A;&#x6536;&#x5230;M1&#x786E;&#x8BA4;&#x62A5;&#x6587;&#xFF0C;&#x91CD;&#x4F20;</tspan></text><rect x="284.375" y="160" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="169" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M1</tspan></text><path fill="none" stroke="#000000" d="M261.1875,182C261.1875,182,333.81416715681553,182,353.7439459371526,182" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj31)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="198" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="207" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M1</tspan></text><path fill="none" stroke="#000000" d="M358.75,220C358.75,220,286.12333284318447,220,266.1935540628474,220" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj34)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="236" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="245" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x53D1;&#x9001;M2</tspan></text><path fill="none" stroke="#000000" d="M261.1875,258C261.1875,258,333.81416715681553,258,353.7439459371526,258" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj37)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="284.375" y="274" width="51.1875" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="309.96875" y="283" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x786E;&#x8BA4;M1</tspan></text><path fill="none" stroke="#000000" d="M358.75,296C358.75,296,286.12333284318447,296,266.1935540628474,296" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj40)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="39.1875" y="316" width="202" height="28" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><rect x="44.1875" y="321" width="192" height="18" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><text x="140.1875" y="330" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: &apos;Andale Mono&apos;, monospace; font-size: 16px;"><tspan dy="5.515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&#x6536;&#x5230;&#x8FDF;&#x5230;&#x7684;&#x786E;&#x8BA4;&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x505A;</tspan></text></svg></div></p>
<h5 id="&#x9762;&#x5411;&#x5B57;&#x8282;&#x6D41;&#xFF1F;">&#x9762;&#x5411;&#x5B57;&#x8282;&#x6D41;&#xFF1F;</h5>
<p>TCP&#x53D1;&#x9001;&#x62A5;&#x6587;&#x65F6;&#xFF0C;&#x662F;&#x5C06;&#x5E94;&#x7528;&#x5C42;&#x6570;&#x636E;&#x5199;&#x5165;TCP&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x7531;TCP&#x534F;&#x8BAE;&#x6765;&#x63A7;&#x5236;&#x53D1;&#x9001;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x53D1;&#x9001;&#x7684;&#x72B6;&#x6001;&#x662F;&#x6309;&#x5B57;&#x8282;&#x6D41;&#x7684;&#x65B9;&#x5F0F;&#x53D1;&#x9001;&#x7684;&#xFF0C;&#x8DDF;&#x5E94;&#x7528;&#x5C42;&#x5199;&#x4E0B;&#x6765;&#x7684;&#x62A5;&#x6587;&#x957F;&#x5EA6;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;&#x662F;&#x6D41;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x5BF9;&#x6BD4;&#x7684;UDP&#xFF0C;&#x5B83;&#x6CA1;&#x6709;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5E94;&#x7528;&#x5C42;&#x5199;&#x7684;&#x62A5;&#x6587;&#x6570;&#x636E;&#x4F1A;&#x76F4;&#x63A5;&#x52A0;&#x5305;&#x5934;&#x4EA4;&#x7ED9;&#x7F51;&#x7EDC;&#x5C42;&#xFF0C;&#x7531;&#x7F51;&#x7EDC;&#x5C42;&#x8D1F;&#x8D23;&#x5206;&#x7247;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x9762;&#x5411;&#x62A5;&#x6587;&#x6BB5;&#x7684;&#x3002;</p>
<h5 id="&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#xFF1F;">&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#xFF1F;</h5>
<p>&#x7F13;&#x51B2;&#x533A;&#x5C0F;&#x4E8E;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x6709;&#x5728;&#x524D;&#x9762;&#x6570;&#x636E;&#x987A;&#x5E8F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53D1;&#x9001;ACK&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53D7;&#x5230;ACK&#x4EE3;&#x8868;&#x524D;&#x9762;&#x90FD;&#x53D1;&#x9001;&#x5B8C;&#x4E86;&#xFF0C;&#x79FB;&#x52A8;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;</p>
<p>TCP&#x5E76;&#x4E0D;&#x662F;&#x6BCF;&#x4E00;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#x90FD;&#x4F1A;&#x56DE;&#x590D;ACK&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x4E24;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#x53D1;&#x9001;&#x4E00;&#x4E2A;ACK&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x591A;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#x53D1;&#x9001;1&#x4E2A;ACK&#x3010;&#x7D2F;&#x8BA1;ACK&#x3011;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x53D1;&#x9001;&#x65B9;&#x6709;1/2/3 3&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x5148;&#x53D1;&#x9001;&#x4E86;2,3 &#x4E24;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x4F46;&#x662F;&#x63A5;&#x6536;&#x65B9;&#x671F;&#x671B;&#x6536;&#x5230;1&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;2,3&#x62A5;&#x6587;&#x6BB5;&#x5C31;&#x53EA;&#x80FD;&#x653E;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x7B49;&#x5F85;&#x62A5;&#x6587;1&#x7684;&#x7A7A;&#x6D1E;&#x88AB;&#x586B;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x62A5;&#x6587;1&#xFF0C;&#x4E00;&#x76F4;&#x4E0D;&#x6765;&#xFF0C;&#x62A5;&#x6587;2/3&#x4E5F;&#x5C06;&#x88AB;&#x4E22;&#x5F03;&#xFF0C;&#x5982;&#x679C;&#x62A5;&#x6587;1&#x6765;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A;ACK&#x5BF9;&#x8FD9;3&#x4E2A;&#x62A5;&#x6587;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x786E;&#x8BA4;&#x3002;</p>
<p>&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;&#x786E;&#x8BA4;&#x5E94;&#x7B54;&#x8FDE;&#x7EED;&#x6536;&#x5230;3&#x6B21;&#xFF0C;&#x5219;&#x4EE3;&#x8868;&#x9700;&#x8981;&#x91CD;&#x53D1;&#x4E86;</p>
<h5 id="&#x62E5;&#x585E;&#x63A7;&#x5236;&#xFF1F;">&#x62E5;&#x585E;&#x63A7;&#x5236;&#xFF1F;</h5>
<ul>
<li><p>&#x6162;&#x5F00;&#x59CB;&#xFF0C;&#x62E5;&#x585E;&#x907F;&#x514D;</p>
</li>
<li><p>&#x5FEB;&#x6062;&#x590D;&#xFF0C;&#x5FEB;&#x91CD;&#x4F20;</p>
</li>
</ul>
<p><img src="https://note.youdao.com/yws/public/resource/ca7cfea2fe6d2c7b94d376efa3fe4d83/xmlnote/WEBRESOURCEf2fd02cac003c369ba07e990d8548fdb/13344" alt="image"></p>
<h5 id="&#x76F8;&#x5173;&#x95EE;&#x9898;">&#x76F8;&#x5173;&#x95EE;&#x9898;</h5>
<p><a href="https://juejin.im/post/5d9c284b518825095879e7a5" target="_blank">&#x9762;&#x8BD5;&#x5B98;&#xFF0C;&#x4E0D;&#x8981;&#x518D;&#x95EE;&#x6211;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x548C;&#x56DB;&#x6B21;&#x6325;&#x624B;</a></p>
<h6 id="&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;">&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;</h6>
<ul>
<li>&#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x786E;&#x8BA4;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x53D1;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EF;&#x63A5;&#x6536;</li>
<li>&#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x786E;&#x8BA4;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x6536;&#x53D1;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EF;&#x6536;&#x53D1;</li>
<li>&#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x786E;&#x8BA4;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x6536;&#x53D1;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EF;&#x6536;&#x53D1;</li>
</ul>
<blockquote>
<p>&#x5982;&#x679C;&#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#x56E0;&#x4E3A;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#x5931;&#x8D25;&#x4E86;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x7B2C;&#x4E8C;&#x6B21;&#xFF0C;&#x4E4B;&#x540E;&#x5EFA;&#x7ACB;&#x94FE;&#x63A5;&#x6210;&#x529F;&#x3002;&#x5982;&#x679C;&#x4E24;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x7531;&#x4E8E;&#x5176;&#x4ED6;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x7684;&#x63E1;&#x624B;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x76F4;&#x63A5;&#x5C31;&#x5EFA;&#x7ACB;&#x94FE;&#x63A5;&#x4E86;&#xFF0C;&#x591A;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x6B21;&#x94FE;&#x63A5;&#x3002;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5BA2;&#x6237;&#x6536;&#x5230;&#x7B2C;&#x4E8C;&#x6B21;&#x670D;&#x52A1;&#x7AEF;&#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x53D1;&#x9001;&#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x3002;</p>
</blockquote>
<h6 id="&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5417;&#xFF1F;">&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5417;&#xFF1F;</h6>
<blockquote>
<p>&#x5176;&#x5B9E;&#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x643A;&#x5E26;&#x6570;&#x636E;&#x7684;&#x3002;&#x4F46;&#x662F;&#xFF0C;<strong>&#x7B2C;&#x4E00;&#x6B21;&#x3001;&#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#x4E0D;&#x53EF;&#x4EE5;&#x643A;&#x5E26;&#x6570;&#x636E;</strong>&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;<strong>&#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#x4E0D;&#x53EF;&#x4EE5;&#x653E;&#x6570;&#x636E;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x539F;&#x56E0;&#x5C31;&#x662F;&#x4F1A;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x53D7;&#x5230;&#x653B;&#x51FB;&#x4E86;&#x3002;&#x800C;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E09;&#x6B21;&#x7684;&#x8BDD;&#xFF0C;&#x6B64;&#x65F6;&#x5BA2;&#x6237;&#x7AEF;&#x5DF2;&#x7ECF;&#x5904;&#x4E8E; ESTABLISHED &#x72B6;&#x6001;&#x3002;&#x5BF9;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x8BF4;&#xFF0C;&#x4ED6;&#x5DF2;&#x7ECF;&#x5EFA;&#x7ACB;&#x8D77;&#x8FDE;&#x63A5;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x670D;&#x52A1;&#x5668;&#x7684;&#x63A5;&#x6536;&#x3001;&#x53D1;&#x9001;&#x80FD;&#x529B;&#x662F;&#x6B63;&#x5E38;&#x7684;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x643A;&#x5E26;&#x6570;&#x636E;&#x4E5F;&#x6CA1;&#x5565;&#x6BDB;&#x75C5;&#x3002;</strong></p>
</blockquote>
<h6 id="&#x5982;&#x679C;&#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x4E22;&#x5931;&#x4E86;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;">&#x5982;&#x679C;&#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x4E22;&#x5931;&#x4E86;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F;</h6>
<blockquote>
<p>&#x5982;&#x679C;&#x6B64;&#x65F6;ACK&#x5728;&#x7F51;&#x7EDC;&#x4E2D;&#x4E22;&#x5931;&#xFF0C;&#x90A3;&#x4E48;Server&#x7AEF;&#x8BE5;TCP&#x8FDE;&#x63A5;&#x7684;&#x72B6;&#x6001;&#x4E3A;SYN_RECV&#xFF0C;&#x5E76;&#x4E14;&#x4F9D;&#x6B21;&#x7B49;&#x5F85;3&#x79D2;&#x3001;6&#x79D2;&#x3001;12&#x79D2;&#x540E;&#x91CD;&#x65B0;&#x53D1;&#x9001;SYN+ACK&#x5305;&#xFF0C;&#x4EE5;&#x4FBF;Client&#x91CD;&#x65B0;&#x53D1;&#x9001;ACK&#x5305;&#x3002;
&#x5982;&#x679C;&#x91CD;&#x53D1;&#x6307;&#x5B9A;&#x6B21;&#x6570;&#x540E;&#xFF0C;&#x4ECD;&#x7136;&#x672A;&#x6536;&#x5230;ACK&#x5E94;&#x7B54;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#xFF0C;Server&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x3002;
&#x4F46;&#x662F;Client&#x8BA4;&#x4E3A;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x5EFA;&#x7ACB;&#xFF0C;&#x5982;&#x679C;Client&#x7AEF;&#x5411;Server&#x5199;&#x6570;&#x636E;&#xFF0C;Server&#x7AEF;&#x5C06;&#x4EE5;RST&#x5305;(&#x7528;&#x4E8E;&#x5F3A;&#x5236;&#x5173;&#x95ED;tcp&#x8FDE;&#x63A5;)&#x54CD;&#x5E94;&#xFF0C;&#x65B9;&#x80FD;&#x611F;&#x77E5;&#x5230;server&#x7684;&#x9519;&#x8BEF;&#x3002;</p>
</blockquote>
<h6 id="syn&#x653B;&#x51FB;">SYN&#x653B;&#x51FB;</h6>
<blockquote>
<p><strong>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x662F;&#x5728;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#x65F6;&#x5206;&#x914D;&#x7684;&#xFF0C;&#x800C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8D44;&#x6E90;&#x662F;&#x5728;&#x5B8C;&#x6210;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x65F6;&#x5206;&#x914D;&#x7684;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x670D;&#x52A1;&#x5668;&#x5BB9;&#x6613;&#x53D7;&#x5230;SYN&#x6D2A;&#x6CDB;&#x653B;&#x51FB;&#x3002;SYN&#x653B;&#x51FB;&#x5C31;&#x662F;Client&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x4F2A;&#x9020;&#x5927;&#x91CF;&#x4E0D;&#x5B58;&#x5728;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x5411;Server&#x4E0D;&#x65AD;&#x5730;&#x53D1;&#x9001;SYN&#x5305;&#xFF0C;Server&#x5219;&#x56DE;&#x590D;&#x786E;&#x8BA4;&#x5305;&#xFF0C;&#x5E76;&#x7B49;&#x5F85;Client&#x786E;&#x8BA4;&#xFF0C;&#x7531;&#x4E8E;&#x6E90;&#x5730;&#x5740;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x56E0;&#x6B64;Server&#x9700;&#x8981;&#x4E0D;&#x65AD;&#x91CD;&#x53D1;&#x76F4;&#x81F3;&#x8D85;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x4F2A;&#x9020;&#x7684;SYN&#x5305;&#x5C06;&#x957F;&#x65F6;&#x95F4;&#x5360;&#x7528;&#x672A;&#x8FDE;&#x63A5;&#x961F;&#x5217;&#xFF0C;&#x5BFC;&#x81F4;&#x6B63;&#x5E38;&#x7684;SYN&#x8BF7;&#x6C42;&#x56E0;&#x4E3A;&#x961F;&#x5217;&#x6EE1;&#x800C;&#x88AB;&#x4E22;&#x5F03;&#xFF0C;&#x4ECE;&#x800C;&#x5F15;&#x8D77;&#x7F51;&#x7EDC;&#x62E5;&#x585E;&#x751A;&#x81F3;&#x7CFB;&#x7EDF;&#x762B;&#x75EA;&#x3002;SYN &#x653B;&#x51FB;&#x662F;&#x4E00;&#x79CD;&#x5178;&#x578B;&#x7684; DoS/DDoS &#x653B;&#x51FB;&#x3002;</p>
</blockquote>
<h6 id="&#x4E3A;&#x4EC0;&#x4E48;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;ack&#x4E4B;&#x540E;&#x4E0D;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#xFF0C;&#x8981;&#x7B49;&#x4E00;&#x9635;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;ACK&#x4E4B;&#x540E;&#x4E0D;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#xFF0C;&#x8981;&#x7B49;&#x4E00;&#x9635;&#xFF1F;</h6>
<blockquote>
<p>&#x56E0;&#x4E3A;&#x5F53;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;SYN&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53D1;&#x9001;SYN+ACK&#x62A5;&#x6587;&#x3002;&#x5176;&#x4E2D;<strong>ACK&#x62A5;&#x6587;&#x662F;&#x7528;&#x6765;&#x5E94;&#x7B54;&#x7684;&#xFF0C;SYN&#x62A5;&#x6587;&#x662F;&#x7528;&#x6765;&#x540C;&#x6B65;&#x7684;</strong>&#x3002;&#x4F46;&#x662F;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5F53;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;FIN&#x62A5;&#x6587;&#x65F6;&#xFF0C;&#x5F88;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x5173;&#x95ED;SOCKET&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x5148;&#x56DE;&#x590D;&#x4E00;&#x4E2A;ACK&#x62A5;&#x6587;&#xFF0C;&#x544A;&#x8BC9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&quot;&#x4F60;&#x53D1;&#x7684;FIN&#x62A5;&#x6587;&#x6211;&#x6536;&#x5230;&#x4E86;&quot;&#x3002;&#x53EA;&#x6709;&#x7B49;&#x5230;&#x6211;&#x670D;&#x52A1;&#x7AEF;&#x6240;&#x6709;&#x7684;&#x62A5;&#x6587;&#x90FD;&#x53D1;&#x9001;&#x5B8C;&#x4E86;&#xFF0C;&#x6211;&#x624D;&#x80FD;&#x53D1;&#x9001;FIN&#x62A5;&#x6587;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x80FD;&#x4E00;&#x8D77;&#x53D1;&#x9001;&#x3002;&#x6545;&#x9700;&#x8981;&#x56DB;&#x6B21;&#x6325;&#x624B;&#x3002;
&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;FIN&#x548C;ACK&#x6CA1;&#x6709;&#x5411;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x90A3;&#x6837;&#x4E00;&#x8D77;&#x53D1;&#xFF0C;&#x56E0;&#x4E3A;SOCKET&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x5173;&#x95ED;&#x3002;&#x9700;&#x8981;&#x7B49;&#x670D;&#x52A1;&#x7AEF;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5B8C;&#x4E86;&#xFF0C;&#x5728;&#x53D1;&#x9001;&#x670D;&#x52A1;&#x7AEF;FIN</p>
</blockquote>
<h4 id="dns">DNS</h4>
<h5 id="dns&#x52AB;&#x6301;">DNS&#x52AB;&#x6301;</h5>
<ul>
<li><p>HTTPDNS</p>
<p>ip&#x76F4;&#x8FDE;&#xFF0C;&#x901A;&#x8FC7;http&#x8BF7;&#x6C42;&#x6765;&#x89E3;&#x6790;ip</p>
</li>
<li><p>&#x957F;&#x8FDE;&#x63A5;</p>
</li>
</ul>
<h3 id="&#x7B2C;11&#x7AE0;-&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;">&#x7B2C;11&#x7AE0; &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h3>
<ul>
<li>&#x5355;&#x4E00;&#x804C;&#x8D23;</li>
<li>&#x5F00;&#x95ED;</li>
<li>&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#xFF08;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x7236;&#x7C7B;&#xFF09;</li>
<li>&#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#xFF08;&#x9AD8;&#x6A21;&#x5757;&#x4E0D;&#x4F9D;&#x8D56;&#x4F4E;&#x6A21;&#x5757;&#xFF09;</li>
<li>&#x63A5;&#x53E3;&#x9694;&#x79BB;&#xFF08;&#x7C7B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5E94;&#x8BE5;&#x5EFA;&#x7ACB;&#x5728;&#x6700;&#x5C0F;&#x7684;&#x63A5;&#x53E3;&#x4E0A;&#xFF09;</li>
<li>&#x8FEA;&#x7C73;&#x7279;&#xFF08;&#x6700;&#x5C11;&#x77E5;&#x8BC6;&#x539F;&#x5219;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5E94;&#x5F53;&#x5BF9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x7684;&#x4E86;&#x89E3;&#xFF09;</li>
</ul>
<h4 id="&#x8FED;&#x4EE3;&#x5668;">&#x8FED;&#x4EE3;&#x5668;</h4>
<div class="mermaid">
classDiagram
    Aggregate <|.. concreteaggregate="" :="" realization="" aggregate="" --=""> Interator : Creates
    Interator <|.. concreteinterator="" :="" realization="" concreteaggregate="" --o="" class="" interator="" {="" <<interface="">&gt;
    hasNext()
    next()
     }
     class ConcreteInterator {
         aggregate
    hasNext()
    next()
     }
     class Aggregate {
         &lt;<interface>&gt;
    interator()
     }
     class ConcreteAggregate {
    interator()
     }
</interface></|..></|..></div>



<h4 id="&#x5EFA;&#x9020;&#x8005;">&#x5EFA;&#x9020;&#x8005;</h4>
<div class="mermaid">
classDiagram
    Director o-- Builder
    Builder <|-- concretebuilder="" client="" --=""> Director : Uses
    Client --&gt; ConcreteBuilder : Uses
    Director : builder
    Director : construct()
  Builder : buildPart1()
    Builder : buildPart2()
    class ConcreteBuilder {
        buildPart1()
        buildPart2()
        getResult()
    }
</|--></div>

<h4 id="&#x8D23;&#x4EFB;&#x94FE;">&#x8D23;&#x4EFB;&#x94FE;</h4>
<div class="mermaid">
classDiagram
    Client --&gt; Handler : Request
    Handler o-- Handler
    Handler <|-- concretehandler1="" handler="" <|--="" concretehandler2="" :="" next()="" request()="" class="" concretehandler1{="" }="" concretehandler2{="" client{="" <="" div="">

<h4 id="&#x89C2;&#x5BDF;&#x8005;">&#x89C2;&#x5BDF;&#x8005;</h4>
<p><div class="mermaid">
classDiagram
    Subject <|-- concretesubject="" oberver="" <|--="" concreteoberver="" --o="" subject="" :="" notifies="" observers="" addobserver()="" deleteobserver()="" notifyobserver()="" getsubjectstatus()="" class="" {="" }="" update()="" <="" div=""></|--></div></p>
<h3 id="&#x7B2C;14&#x7AE0;-&#x7B2C;&#x4E09;&#x65B9;&#x5E93;">&#x7B2C;14&#x7AE0; &#x7B2C;&#x4E09;&#x65B9;&#x5E93;</h3>
<h4 id="afnnetworking">AFNNetworking</h4>
<h4 id="sdwebimage">SDWebImage</h4>
<ul>
<li><p>SDMemoryCache</p>
<p>Use a strong-weak maptable storing the secondary cache. Follow the doc that NSCache does not copy keys</p>
<p>This is useful when the memory warning, the cache was purged. However, the image instance can be retained by other instance such as imageViews and alive.</p>
<p>At this case, we can sync weak cache back and do not need to load from disk cache</p>
</li>
</ul>
<h3 id="&#x7B2C;max&#x7AE0;-&#x9762;&#x8BD5;&#x95EE;&#x9898;&#x603B;&#x7ED3;">&#x7B2C;MAX&#x7AE0; &#x9762;&#x8BD5;&#x95EE;&#x9898;&#x603B;&#x7ED3;</h3>
<h4 id="&#x81EA;&#x65CB;&#x9501;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5B89;&#x5168;"><a href="https://cloud.tencent.com/developer/article/1505582" target="_blank">&#x81EA;&#x65CB;&#x9501;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5B89;&#x5168;</a></h4>
<p>&#x4F18;&#x5148;&#x7EA7;&#x53CD;&#x8F6C;</p>
<blockquote>
<p>&#x6709;&#xFF1A;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x4EFB;&#x52A1;A / &#x6B21;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x4EFB;&#x52A1;B / &#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x4EFB;&#x52A1;C / &#x8D44;&#x6E90;Z &#x3002; 
<code>A &#x7B49;&#x5F85; C &#x6267;&#x884C;&#x540E;&#x7684; Z</code>&#xFF0C; 
<code>&#x800C; B &#x5E76;&#x4E0D;&#x9700;&#x8981; Z&#xFF0C;&#x62A2;&#x5148;&#x83B7;&#x5F97;&#x65F6;&#x95F4;&#x7247;&#x6267;&#x884C;</code>&#x3002; 
<code>C &#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x65E0;&#x6CD5;&#x6267;&#x884C;</code>(&#x4F18;&#x5148;&#x7EA7;&#x76F8;&#x5BF9;&#x6CA1;&#x6709;B&#x9AD8;)&#x3002;
 &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x9020;&#x6210; A &#x5728;C &#x4E4B;&#x540E;&#x6267;&#x884C;,C&#x5728;B&#x4E4B;&#x540E;&#xFF0C;&#x95F4;&#x63A5;&#x7684;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;A&#x5728;&#x6B21;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x4EFB;&#x52A1;B &#x4E4B;&#x540E;&#x6267;&#x884C;, &#x4F7F;&#x5F97;&#x4F18;&#x5148;&#x7EA7;&#x88AB;&#x5012;&#x7F6E;&#x4E86;&#x3002;&#xFF08;&#x5047;&#x8BBE;&#xFF1A; A &#x7B49;&#x5F85;&#x8D44;&#x6E90;&#x65F6;&#x4E0D;&#x662F;&#x963B;&#x585E;&#x7B49;&#x5F85;&#xFF0C;&#x800C;&#x662F;&#x5FD9;&#x5FAA;&#x73AF;&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x6C38;&#x8FDC;&#x65E0;&#x6CD5;&#x83B7;&#x5F97;&#x8D44;&#x6E90;&#x3002;&#x6B64;&#x65F6; C &#x65E0;&#x6CD5;&#x4E0E; A &#x4E89;&#x593A; CPU &#x65F6;&#x95F4;&#xFF0C;&#x4ECE;&#x800C; C &#x65E0;&#x6CD5;&#x6267;&#x884C;&#xFF0C;&#x8FDB;&#x800C;&#x65E0;&#x6CD5;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#x3002;&#x9020;&#x6210;&#x7684;&#x540E;&#x679C;&#xFF0C;&#x5C31;&#x662F; A &#x65E0;&#x6CD5;&#x83B7;&#x5F97; Z &#x800C;&#x7EE7;&#x7EED;&#x63A8;&#x8FDB;&#x3002;&#xFF09;</p>
</blockquote>
<p>&#x800C; OSSpinLock &#x5FD9;&#x7B49;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5C31;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x4E00;&#x76F4; running &#xFF0C;&#x5360;&#x7528; cpu &#x65F6;&#x95F4;&#x7247;&#x3002;&#x800C;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x4EFB;&#x52A1;&#x65E0;&#x6CD5;&#x62A2;&#x5360;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x53D8;&#x6210;&#x8FDF;&#x8FDF;&#x5B8C;&#x4E0D;&#x6210;&#xFF0C;&#x4E0D;&#x91CA;&#x653E;&#x9501;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<h5 id="&#x4F18;&#x5148;&#x7EA7;&#x53CD;&#x8F6C;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x4F18;&#x5148;&#x7EA7;&#x53CD;&#x8F6C;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h5>
<ul>
<li>&#x4F18;&#x5148;&#x7EA7;&#x7EE7;&#x627F;</li>
</ul>
<blockquote>
<p>&#x4F18;&#x5148;&#x7EA7;&#x7EE7;&#x627F;&#xFF0C;&#x6545;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x662F;&#x5C06;&#x5360;&#x6709;&#x9501;&#x7684;&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x7EE7;&#x627F;&#x7B49;&#x5F85;&#x8BE5;&#x9501;&#x7684;&#x7EBF;&#x7A0B;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#xFF0C;&#x5C31;&#x53D6;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#x6700;&#x9AD8;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x7EE7;&#x627F;&#x3002;</p>
</blockquote>
<ul>
<li>&#x4F18;&#x5148;&#x7EA7;&#x5929;&#x82B1;&#x677F;</li>
</ul>
<blockquote>
<p>&#x4F18;&#x5148;&#x7EA7;&#x5929;&#x82B1;&#x677F;&#xFF0C;&#x5219;&#x662F;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;&#x4E0A;&#x9650;&#xFF0C;&#x7ED9;&#x4E34;&#x754C;&#x533A;&#x4E00;&#x4E2A;&#x6700;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x5C06;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x3002;&#x5982;&#x679C;&#x5176;&#x4ED6;&#x8BD5;&#x56FE;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x90FD;&#x4F4E;&#x4E8E;&#x8FD9;&#x4E2A;&#x6700;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x90A3;&#x4E48;&#x4F18;&#x5148;&#x7EA7;&#x53CD;&#x8F6C;&#x5C31;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x3002;</p>
</blockquote>
<ul>
<li>&#x7981;&#x6B62;&#x4E2D;&#x65AD;</li>
</ul>
<h4 id="&#x5206;&#x5757;&#x67E5;&#x627E;">&#x5206;&#x5757;&#x67E5;&#x627E;</h4>
<p>&#x5C06;n&#x4E2A;&#x6570;&#x636E;&#x5143;&#x7D20;&quot;&#x6309;&#x5757;&#x6709;&#x5E8F;&quot;&#x5212;&#x5206;&#x4E3A;m&#x5757;&#xFF08;m &#x2264; n&#xFF09;&#x3002;</p>
<p>&#x6BCF;&#x4E00;&#x5757;&#x4E2D;&#x7684;&#x7ED3;&#x70B9;&#x4E0D;&#x5FC5;&#x6709;&#x5E8F;&#xFF0C;&#x4F46;&#x5757;&#x4E0E;&#x5757;&#x4E4B;&#x95F4;&#x5FC5;&#x987B;&quot;&#x6309;&#x5757;&#x6709;&#x5E8F;&quot;&#xFF1B;&#x5373;&#x7B2C;1&#x5757;&#x4E2D;&#x4EFB;&#x4E00;&#x5143;&#x7D20;&#x7684;&#x5173;&#x952E;&#x5B57;&#x90FD;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B2C;2&#x5757;&#x4E2D;&#x4EFB;&#x4E00;&#x5143;&#x7D20;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF1B;&#x800C;&#x7B2C;2&#x5757;&#x4E2D;&#x4EFB;&#x4E00;&#x5143;&#x7D20;&#x53C8;&#x90FD;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B2C;3&#x5757;&#x4E2D;&#x7684;&#x4EFB;&#x4E00;&#x5143;&#x7D20;&#xFF0C;&#x2026;&#x2026;&#x3002;</p>
<p>&#x7136;&#x540E;&#x4F7F;&#x7528;&#x4E8C;&#x5206;&#x67E5;&#x627E;&#x53CA;&#x987A;&#x5E8F;&#x67E5;&#x627E;&#x3002;</p>
<h5 id="dispatchgroupasync">dispatch_group_async</h5>
<pre><code class="lang-c++"><span class="hljs-function"><span class="hljs-keyword">void</span>
<span class="hljs-title">dispatch_async</span><span class="hljs-params">(dispatch_queue_t dq, dispatch_block_t work)</span>
</span>{
    <span class="hljs-keyword">dispatch_continuation_t</span> dc = _dispatch_continuation_alloc();
    <span class="hljs-keyword">uintptr_t</span> dc_flags = DC_FLAG_CONSUME;
    <span class="hljs-keyword">dispatch_qos_t</span> qos;

    qos = _dispatch_continuation_init(dc, dq, work, <span class="hljs-number">0</span>, dc_flags);
    _dispatch_continuation_async(dq, dc, qos, dc-&gt;dc_flags);
}
</code></pre>
<pre><code class="lang-c++"><span class="hljs-function"><span class="hljs-keyword">void</span>
<span class="hljs-title">dispatch_group_async</span><span class="hljs-params">(dispatch_group_t dg, dispatch_queue_t dq,
        dispatch_block_t db)</span>
</span>{
    <span class="hljs-keyword">dispatch_continuation_t</span> dc = _dispatch_continuation_alloc();
    <span class="hljs-keyword">uintptr_t</span> dc_flags = DC_FLAG_CONSUME | DC_FLAG_GROUP_ASYNC;
    <span class="hljs-keyword">dispatch_qos_t</span> qos;

    qos = _dispatch_continuation_init(dc, dq, db, <span class="hljs-number">0</span>, dc_flags);
    _dispatch_continuation_group_async(dg, dq, dc, qos);
}
</code></pre>
<h4 id="wkwebview&#x76F8;&#x5173;&#x95EE;&#x9898;">WKWebView&#x76F8;&#x5173;&#x95EE;&#x9898;</h4>
<ol>
<li><p><code>goback Api</code>&#x8FD4;&#x56DE;&#x4E0D;&#x5237;&#x65B0;</p>
<pre><code class="lang-javascript"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&quot;pageshow&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)</span>{
    <span class="hljs-keyword">if</span>(event.persisted){
        location.reload();
    }
});
</code></pre>
</li>
<li><p>&#x5F53; WKWebView &#x603B;&#x4F53;&#x5185;&#x5B58;&#x5360;&#x7528;&#x8FC7;&#x5927;&#xFF0C;WKWebView &#x767D;&#x5C4F;&#x95EE;&#x9898;</p>
<ul>
<li>webViewWebContentProcessDidTerminate &#x56DE;&#x8C03;&#x91CC;&#x9762;reload</li>
<li>&#x53EF;&#x4EE5;&#x5728; viewWillAppear &#x7684;&#x65F6;&#x5019;&#x68C0;&#x6D4B; webView.title &#x662F;&#x5426;&#x4E3A;&#x7A7A;&#x6765; reload &#x9875;&#x9762;&#x3002;</li>
</ul>
</li>
<li><p>WKWebView Cookie &#x95EE;&#x9898;&#x5728;&#x4E8E; WKWebView &#x53D1;&#x8D77;&#x7684;&#x8BF7;&#x6C42;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5E26;&#x4E0A;&#x5B58;&#x50A8;&#x4E8E; NSHTTPCookieStorage &#x5BB9;&#x5668;&#x4E2D;&#x7684; Cookie&#x3002;</p>
<pre><code>- WKWebView loadRequest &#x524D;&#xFF0C;&#x5728; request header &#x4E2D;&#x8BBE;&#x7F6E; Cookie, &#x89E3;&#x51B3;&#x9996;&#x4E2A;&#x8BF7;&#x6C42; Cookie &#x5E26;&#x4E0D;&#x4E0A;&#x7684;&#x95EE;&#x9898;
</code></pre><ul>
<li>&#x901A;&#x8FC7; document.cookie &#x8BBE;&#x7F6E; Cookie &#x89E3;&#x51B3;&#x540E;&#x7EED;&#x9875;&#x9762;(&#x540C;&#x57DF;)Ajax&#x3001;iframe &#x8BF7;&#x6C42;&#x7684; Cookie &#x95EE;&#x9898;</li>
<li>&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#xFF0C;&#x5728;decidePolicyForNavigationAction&#x56DE;&#x8C03;&#x4E2D;&#x5904;&#x7406;</li>
<li>js&#x4E2D;hook document&#x76F8;&#x5173;set&amp;get cookie&#x65B9;&#x6CD5;&#x56DE;&#x8C03;Native&#x83B7;&#x53D6;&#xFF0C;&#x4FDD;&#x8BC1;&#x5B58;&#x50A8;&#x53CA;&#x65F6;</li>
</ul>
</li>
<li><p>&#x5728; WKWebView &#x4E0A;&#x901A;&#x8FC7; loadRequest &#x53D1;&#x8D77;&#x7684; post &#x8BF7;&#x6C42; body &#x6570;&#x636E;&#x4F1A;&#x4E22;&#x5931;    </p>
</li>
</ol>
<pre><code>- &#x5C06;body&#x653E;&#x5230;header&#x91CC;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x62E6;&#x622A;&#x8BF7;&#x6C42;&#xFF0C;&#x4ECE;header&#x4E2D;&#x62FF;&#x51FA;&#x6765;body&#x5728;post
</code></pre><ol>
<li><p>crash&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x7531;&#x4E8E;wk&#x91CA;&#x653E;&#x5BFC;&#x81F4;js&#x4E2D;&#x91CE;&#x6307;&#x9488;&#x7684;&#x95EE;&#x9898;</p>
<ul>
<li>alter&#xFF0C;completionHandler &#x6CA1;&#x6709;&#x88AB;&#x8C03;&#x7528;&#x5BFC;&#x81F4;&#x7684;&#x3002;&#x5728;&#x9002;&#x914D; WKWebView &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x8BE5;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;window.alert()&#x624D;&#x80FD;&#x8C03;&#x8D77; alert &#x6846;&#xFF0C;&#x6211;&#x4EEC;&#x6700;&#x521D;&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x8FD9;&#x6837;&#x7684;</li>
<li>&#x5982;&#x679C; WKWebView &#x9000;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;JS&#x521A;&#x597D;&#x6267;&#x884C;&#x4E86;window.alert(), alert &#x6846;&#x53EF;&#x80FD;&#x5F39;&#x4E0D;&#x51FA;&#x6765;&#xFF0C;completionHandler &#x6700;&#x540E;&#x6CA1;&#x6709;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5BFC;&#x81F4; crash&#xFF1B;&#x53E6;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x5728; WKWebView &#x4E00;&#x6253;&#x5F00;&#xFF0C;JS&#x5C31;&#x6267;&#x884C;window.alert()&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x7531;&#x4E8E; WKWebView &#x6240;&#x5728;&#x7684; UIViewController &#x51FA;&#x73B0;&#xFF08;push&#x6216;present&#xFF09;&#x7684;&#x52A8;&#x753B;&#x5C1A;&#x672A;&#x7ED3;&#x675F;&#xFF0C;alert &#x6846;&#x53EF;&#x80FD;&#x5F39;&#x4E0D;&#x51FA;&#x6765;&#xFF0C;completionHandler &#x6700;&#x540E;&#x6CA1;&#x6709;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5BFC;&#x81F4; crash&#x3002;</li>
</ul>
</li>
<li><p>&#x7528;iframe&#x662F;&#x56E0;&#x4E3A;wk&#x662F;&#x72EC;&#x7ACB;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x4E0D;&#x5230;&#x76F8;&#x5173;&#x8BF7;&#x6C42;</p>
</li>
</ol>
<h4 id="cocoapods&#x76F8;&#x5173;">CocoaPods&#x76F8;&#x5173;</h4>
<h5 id="&#x5230;&#x5E95;&#x4EC0;&#x4E48;&#x662F;&#x9759;&#x6001;&#x5E93;&#x52A8;&#x6001;&#x5E93;&#xFF1F;">&#x5230;&#x5E95;&#x4EC0;&#x4E48;&#x662F;&#x9759;&#x6001;&#x5E93;&amp;&#x52A8;&#x6001;&#x5E93;&#xFF1F;</h5>
<h6 id="&#x8868;&#x73B0;&#x5F62;&#x5F0F;">&#x8868;&#x73B0;&#x5F62;&#x5F0F;</h6>
<p>&#x9759;&#x6001;&#x5E93;&#xFF1A;.a&#x548C;.framework&#x6587;&#x4EF6;&#x662F;&#x4E00;&#x4E2A;&#x7EAF;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;.framework&#x9664;&#x4E86;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x8FD8;&#x6709;&#x5916;&#x90E8;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF1B;.a&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF0C;&#x81F3;&#x5C11;&#x8981;&#x6709;.h&#x914D;&#x5408;&#xFF1B;.framework&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;</p>
<p>&#x52A8;&#x6001;&#x5E93;&#xFF1A;.tbd&#xFF08;&#x7CFB;&#x7EDF;&#x5E93;&#xFF09;&#x548C;.framework</p>
<h6 id="&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;">&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;</h6>
<p>&#x9759;&#x6001;&#x5E93;&#xFF1A;&#x94FE;&#x63A5;&#x65F6;&#x5B8C;&#x6574;&#x5730;&#x62F7;&#x8D1D;&#x81F3;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x88AB;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x5C31;&#x6709;&#x591A;&#x5206;&#x5197;&#x4F59;&#x8003;&#x8D39;</p>
<p>&#x52A8;&#x6001;&#x5E93;&#xFF1A;&#x94FE;&#x63A5;&#x65F6;&#x4E0D;&#x590D;&#x5236;&#xFF0C;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x7531;&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#xFF0C;&#x4F9B;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#xFF0C;&#x7CFB;&#x7EDF;&#x53EA;&#x52A0;&#x8F7D;&#x4E00;&#x6B21;&#xFF0C;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x5171;&#x7528;&#xFF0C;&#x8282;&#x7701;&#x5185;&#x5B58;</p>
<h6 id="&#x4F18;&#x70B9;">&#x4F18;&#x70B9;</h6>
<ul>
<li><p>&#x9759;&#x6001;&#x5E93;&#x7F16;&#x8BD1;&#x5FEB;</p>
</li>
<li><p>&#x52A8;&#x6001;&#x5E93;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5185;&#x5B58;</p>
</li>
<li><p>&#x52A8;&#x6001;&#x5E93;&#x53EF;&#x4EE5;&#x4E0D;&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x66F4;&#x65B0;&#x52A8;&#x6001;&#x5E93;&#x6587;&#x4EF6;&#x6253;&#x5230;&#x66F4;&#x65B0;&#x5E94;&#x7528;&#x7684;&#x76EE;&#x7684;</p>
</li>
<li><p>&#x5E94;&#x7528;&#x63D2;&#x4EF6;&#x5316;</p>
</li>
</ul>
<h5 id="&#x4E3A;&#x4EC0;&#x4E48;useframeworks">&#x4E3A;&#x4EC0;&#x4E48;use_frameworks!</h5>
<p>&#x5305;&#x542B;Swift&#x4EE3;&#x7801;&#x7684;&#x5E93;&#x4E0D;&#x652F;&#x6301;&#x9759;&#x6001;&#x5E93;&#xFF0C;&#x9ED8;&#x8BA4;&#x5168;&#x90FD;&#x52A8;&#x6001;&#x4E86;&#xFF08;1.4.0&#x4E4B;&#x540E;&#x4E0D;&#x7528;&#x4E86;&#xFF09;</p>
<h5 id="&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5168;&#x7528;&#x9759;&#x6001;&#x5E93;">&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5168;&#x7528;&#x9759;&#x6001;&#x5E93;</h5>
<ol>
<li>&#x9759;&#x6001;&#x5E93;&#x5168;&#x90FD;&#x62F7;&#x8D1D;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x540D;C&#x65B9;&#x6CD5;&#x4F1A;&#x88AB;&#x8986;&#x76D6;</li>
<li>&#xFF1F;</li>
</ol>
<h4 id="&#x9AD8;&#x7CBE;&#x5EA6;&#x8BA1;&#x65F6;&#x5668;">&#x9AD8;&#x7CBE;&#x5EA6;&#x8BA1;&#x65F6;&#x5668;</h4>
<p><a href="https://developer.apple.com/library/archive/technotes/tn2169/_index.html" target="_blank">High Precision Timers in iOS / OS X</a></p>
<h4 id="&#x65AD;&#x70B9;&#x7EED;&#x4F20;">&#x65AD;&#x70B9;&#x7EED;&#x4F20;</h4>
<h4 id="contenttype">Content/Type</h4>
<h4 id="&#x901A;&#x4FE1;&#x65B9;&#x5F0F;">&#x901A;&#x4FE1;&#x65B9;&#x5F0F;</h4>
<h4 id="&#x5B57;&#x7B26;&#x4E32;&#x66FF;&#x6362;">&#x5B57;&#x7B26;&#x4E32;&#x66FF;&#x6362;</h4>
<h4 id="hybrid&#x901A;&#x4FE1;&#x65B9;&#x5F0F;-&#x591A;&#x6B21;&#x70B9;&#x51FB;">Hybrid&#x901A;&#x4FE1;&#x65B9;&#x5F0F; &#x591A;&#x6B21;&#x70B9;&#x51FB;</h4>
<h4 id="http-304-&#x7F13;&#x5B58;"><a href="https://blog.csdn.net/soonfly/article/details/50953814" target="_blank">HTTP 304 &#x7F13;&#x5B58;</a></h4>
<h4 id="&#x6821;&#x9A8C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x6027;"><a href="http://blog.sina.com.cn/s/blog_5ee9f2800102wscn.html" target="_blank">&#x6821;&#x9A8C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x6027;</a></h4>
</|--></div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Effective Objective-C 2.0.html" class="navigation navigation-prev " aria-label="Previous page: Effective Objective-C 2.0">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../" class="navigation navigation-next " aria-label="Next page: 结束">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"iOS知识点总结","level":"1.2.2","depth":2,"next":{"title":"结束","level":"1.3","depth":1,"path":"README.md","ref":"README.md","articles":[]},"previous":{"title":"Effective Objective-C 2.0","level":"1.2.1","depth":2,"path":"iOS/Effective Objective-C 2.0.md","ref":"iOS/Effective Objective-C 2.0.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["sequence","mermaid-v8","flow","uml"],"pluginsConfig":{"sequence":{"theme":"simple"},"mermaid-v8":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"flow":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"uml":{"format":"svg"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"iOS/iOS知识点总结.md","mtime":"2020-09-07T18:10:58.192Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-07T18:19:03.345Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        

    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-mermaid-v8/book/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

<script src="../gitbook/gitbook-plugin-mermaid-v8/mermaid/mermaid.min.js"></script>

    </body>
</html>

